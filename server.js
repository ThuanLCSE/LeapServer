var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var morgan = require('morgan');
var Leap=require('leapjs');
var log = require('log-to-file');
var util = require('util');
var fs = require('fs');
var redis = require('redis');
var utilLeap = require('./controller/util');
var {SensorFrame,Hand,Arm,Finger,Bone} = require('./controller/binding');

const CHANNEL_REDIS = 'leapthuan';
//redis By default redis.createClient() will use 127.0.0.1 and port 6379
var portRD = '6379'
var hostRD = '127.0.0.1'
var publisher = redis.createClient(portRD, hostRD); 
publisher.publish(CHANNEL_REDIS, "Server LAUNCH");
publisher.on('error', function (err) {
  console.log('Error ' + err);
}); 
publisher.on('connect', function() {
    console.log('connected to REDIS ' + portRD + " " + hostRD);
});

var app = express();
//route url
var indexRouter = require('./routes/index');
var redisRouter = require('./routes/redis');
app.use('/', indexRouter);
app.use('/redis', redisRouter);

app.use(morgan('combined'))
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));
  app.set('views', './public');
// Set view engine as EJS
app.engine('html', require('ejs').renderFile);
app.set('view engine', 'html');

app.use(function(req, res, next) {
  next(createError(404));
});
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = err;

  // render the error page
  res.status(err.status || 500);
  res.render('error');
});

var leapConfig = {}
var leapControllers = []
var leapData =[] ;
var fs = require('fs');
fs.readFile('config.json', 'utf8', function(err, contents) {
  leapConfig =  JSON.parse(contents)
  for (var i = 0; i< leapConfig.length ; i++){
    var controller = new Leap.Controller({
      host: leapConfig[i].ip,
      port: leapConfig[i].port});
    leapControllers.push(controller);
    leapData[leapConfig[i].ip] = {}
    leapControllers[i].on('frame', (frame) => { leapData[frame.controller.connection.host] = frame});
    leapControllers[i].connect()
  }
});
 
setInterval(function() {
  var multiHandData = {"sensors" : []} 
  var status = ""  
  for (var i = 0; i< leapConfig.length ; i++){
    //deep clone object
    leap = leapData[leapConfig[i].ip]
    var sensor = new SensorFrame(leapConfig[i]);  
    if(leap.hands && leap.hands.length > 0){ 
      sensor.setFrame(leap);  
      for(var j=0; j<leap.hands.length ; j++){
        nHand = new Hand(leap.hands[j])  
        sensor.hands.push(nHand);  
        // console.log(nHand.arm.center) 
      } 
      sensor.id = leap.id; 
    }
    multiHandData.sensors.push(sensor) 
    status = status + " leap "+leapConfig[i].ip+" " + (leap.hands!=null?leap.hands.length:0)
  } 
  console.log(status);
  //var jsonToString = utilLeap.jsonToText(multiHandData) 
  var jsonToString = "{\"sensors\":[{\"ip\":\"192.168.56.104\",\"positionX\":1,\"positionY\":2,\"dump\":\"Frame Info:<br/>Frame [ id:802429 | timestamp:1556041054393621 | Hand count:(2) | Pointable count:(10) | Gesture count:(0) ]<br/><br/>Hands:<br/>  Hand (left) [ id: 7 | palm velocity:-26.8695,-262.154,-157.729 | sphere center:-109.753,142.174,-49.59 ] <br/>  Hand (right) [ id: 8 | palm velocity:-81.3972,-172.895,-196.216 | sphere center:-26.3298,110.518,-27.7057 ] <br/><br/><br/>Pointables:<br/>  Finger [ id:70 49.0096mmx | width:19.0429mm | direction:0.593933,0.375412,-0.711554 ]<br/>  Finger [ id:71 55.3019mmx | width:18.1897mm | direction:0.274087,0.0204698,-0.961487 ]<br/>  Finger [ id:72 63.0121mmx | width:17.8647mm | direction:0.232389,-0.214232,-0.948736 ]<br/>  Finger [ id:73 60.5878mmx | width:16.9994mm | direction:0.342745,-0.391991,-0.853738 ]<br/>  Finger [ id:74 47.4997mmx | width:15.1002mm | direction:0.25427,-0.513163,-0.819762 ]<br/>  Finger [ id:80 52.1164mmx | width:20.25mm | direction:-0.682526,0.401766,-0.610526 ]<br/>  Finger [ id:81 58.8075mmx | width:19.3428mm | direction:-0.515676,-0.256417,-0.817514 ]<br/>  Finger [ id:82 67.0064mmx | width:18.9972mm | direction:-0.644983,-0.457833,-0.611871 ]<br/>  Finger [ id:83 64.4285mmx | width:18.077mm | direction:-0.624663,-0.439786,-0.645279 ]<br/>  Finger [ id:84 50.5107mmx | width:16.0574mm | direction:-0.316166,-0.450623,-0.834852 ]<br/><br/><br/>Gestures:<br/><br/><br/>Raw JSON:<br/>{\\\"currentFrameRate\\\":56.4938,\\\"devices\\\":[],\\\"gestures\\\":[],\\\"hands\\\":[{\\\"armBasis\\\":[[-0.542561,-0.559827,-0.626276],[-0.801562,0.56803,0.186655],[-0.251249,-0.60327,0.756927]],\\\"armWidth\\\":59.9215,\\\"confidence\\\":0.791238,\\\"direction\\\":[0.182657,0.0781232,-0.980068],\\\"elbow\\\":[-212.073,7.10711,227.707],\\\"grabStrength\\\":0,\\\"id\\\":7,\\\"palmNormal\\\":[0.781932,-0.615828,0.0966412],\\\"palmPosition\\\":[-131.555,167.366,-12.6124],\\\"palmVelocity\\\":[-26.8695,-262.154,-157.729],\\\"palmWidth\\\":85.5659,\\\"pinchStrength\\\":0,\\\"r\\\":[[0.885499,0.452148,-0.107024],[-0.443245,0.752914,-0.486472],[-0.139377,0.478208,0.867116]],\\\"s\\\":1.42947,\\\"sphereCenter\\\":[-109.753,142.174,-49.59],\\\"sphereRadius\\\":63.1926,\\\"stabilizedPalmPosition\\\":[-129.607,177.223,-4.31145],\\\"t\\\":[-43.6512,66.8646,-38.8312],\\\"timeVisible\\\":4.90555,\\\"type\\\":\\\"left\\\",\\\"wrist\\\":[-148.279,160.28,35.5196]},{\\\"armBasis\\\":[[0.431863,-0.32542,-0.841187],[0.655103,0.754225,0.0445502],[0.619947,-0.570304,0.538906]],\\\"armWidth\\\":63.72,\\\"confidence\\\":0.969728,\\\"direction\\\":[-0.26487,0.242549,-0.933281],\\\"elbow\\\":[242.528,16.3717,174.209],\\\"grabStrength\\\":0,\\\"id\\\":8,\\\"palmNormal\\\":[-0.64692,-0.762419,-0.014545],\\\"palmPosition\\\":[52.5938,184.731,-19.0204],\\\"palmVelocity\\\":[-81.3972,-172.895,-196.216],\\\"palmWidth\\\":90.99,\\\"pinchStrength\\\":0,\\\"r\\\":[[0.971328,0.174017,0.161991],[-0.143315,0.972222,-0.185052],[-0.189693,0.15653,0.969286]],\\\"s\\\":1.07372,\\\"sphereCenter\\\":[-26.3298,110.518,-27.7057],\\\"sphereRadius\\\":108.325,\\\"stabilizedPalmPosition\\\":[57.0485,196.221,-8.6564],\\\"t\\\":[-46.1178,-40.9405,-43.5589],\\\"timeVisible\\\":4.89103,\\\"type\\\":\\\"right\\\",\\\"wrist\\\":[75.1423,170.354,28.7042]}],\\\"id\\\":802429,\\\"interactionBox\\\":{\\\"center\\\":[0,200,0],\\\"size\\\":[235.247,235.247,147.751]},\\\"pointables\\\":[{\\\"bases\\\":[[[-0.903568,0.250578,-0.347527],[0.0586842,0.875875,0.478956],[-0.424406,-0.412376,0.806118]],[[-0.803248,0.32631,-0.498311],[-0.147543,0.70152,0.69721],[-0.577081,-0.633555,0.51535]],[[-0.803248,0.32631,-0.498311],[0.0451157,0.867518,0.495356],[-0.593933,-0.375412,0.711554]],[[-0.803248,0.32631,-0.498311],[-0.125591,0.725001,0.6772],[-0.582253,-0.606544,0.541374]]],\\\"btipPosition\\\":[-66.0006,229.919,-14.6128],\\\"carpPosition\\\":[-124.948,174.792,44.3081],\\\"dipPosition\\\":[-78.8151,216.57,-2.69801],\\\"direction\\\":[0.593933,0.375412,-0.711554],\\\"extended\\\":true,\\\"handId\\\":7,\\\"id\\\":70,\\\"length\\\":49.0096,\\\"mcpPosition\\\":[-124.948,174.792,44.3081],\\\"pipPosition\\\":[-97.8585,204.533,20.1166],\\\"stabilizedTipPosition\\\":[-67.2955,248.262,10.8014],\\\"timeVisible\\\":4.90555,\\\"tipPosition\\\":[-69.0302,226.635,-10.7903],\\\"tipVelocity\\\":[5.87334,-321.664,-198.832],\\\"tool\\\":false,\\\"touchDistance\\\":-0.468928,\\\"touchZone\\\":\\\"hovering\\\",\\\"type\\\":0,\\\"width\\\":19.0429},{\\\"bases\\\":[[[-0.556873,-0.759751,-0.335664],[-0.731725,0.639965,-0.234569],[-0.393027,-0.114988,0.912309]],[[-0.61096,-0.768394,-0.190523],[-0.781053,0.624323,-0.0132984],[-0.129166,-0.140683,0.981593]],[[-0.61096,-0.768394,-0.190523],[-0.742701,0.63965,-0.198101],[-0.274087,-0.0204698,0.961487]],[[-0.61096,-0.768394,-0.190523],[-0.694868,0.635812,-0.336008],[-0.379323,0.0728991,0.922388]]],\\\"btipPosition\\\":[-97.274,193.889,-108.096],\\\"carpPosition\\\":[-142.008,180.956,31.3526],\\\"dipPosition\\\":[-103.369,195.06,-93.2764],\\\"direction\\\":[0.274087,0.0204698,-0.961487],\\\"extended\\\":true,\\\"handId\\\":7,\\\"id\\\":71,\\\"length\\\":55.3019,\\\"mcpPosition\\\":[-114.817,188.911,-31.7645],\\\"pipPosition\\\":[-109.599,194.595,-71.4222],\\\"stabilizedTipPosition\\\":[-97.7641,201.63,-99.7945],\\\"timeVisible\\\":4.90555,\\\"tipPosition\\\":[-100.296,195.14,-104.433],\\\"tipVelocity\\\":[-35.2044,-284.265,-167.386],\\\"tool\\\":false,\\\"touchDistance\\\":-0.515956,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":1,\\\"width\\\":18.1897},{\\\"bases\\\":[[[-0.471898,-0.866194,-0.164382],[-0.823788,0.499627,-0.267853],[-0.314142,-0.0090166,0.949333]],[[-0.531921,-0.844635,0.0604336],[-0.846532,0.528625,-0.0627605],[-0.021063,0.0845426,0.996197]],[[-0.531921,-0.844635,0.0604336],[-0.814282,0.490608,-0.310239],[-0.232389,0.214232,0.948736]],[[-0.531921,-0.844635,0.0604336],[-0.74362,0.43178,-0.510485],[-0.405079,0.316477,0.857761]]],\\\"btipPosition\\\":[-114.402,158.779,-121.341],\\\"carpPosition\\\":[-149.341,173.341,26.6268],\\\"dipPosition\\\":[-121.561,164.372,-106.183],\\\"direction\\\":[0.232389,-0.214232,-0.948736],\\\"extended\\\":true,\\\"handId\\\":7,\\\"id\\\":72,\\\"length\\\":63.0121,\\\"mcpPosition\\\":[-128.73,173.933,-35.658],\\\"pipPosition\\\":[-127.775,170.101,-80.8127],\\\"stabilizedTipPosition\\\":[-115.11,166.657,-113.945],\\\"timeVisible\\\":4.90555,\\\"tipPosition\\\":[-117.713,161.431,-117.961],\\\"tipVelocity\\\":[-36.2736,-281.723,-159.317],\\\"tool\\\":false,\\\"touchDistance\\\":-0.504128,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":2,\\\"width\\\":17.8647},{\\\"bases\\\":[[[-0.44953,-0.893262,-0.00222521],[-0.864993,0.435923,-0.248514],[-0.222958,0.10979,0.968626]],[[-0.485658,-0.851857,0.196153],[-0.869151,0.446606,-0.212415],[-0.0933439,0.273647,0.95729]],[[-0.485658,-0.851857,0.196153],[-0.804153,0.347394,-0.482343],[-0.342745,0.391991,0.853738]],[[-0.485658,-0.851857,0.196153],[-0.697958,0.242781,-0.67373],[-0.526299,0.464109,0.712469]]],\\\"btipPosition\\\":[-119.989,127.483,-108.26],\\\"carpPosition\\\":[-155.221,163.814,23.7779],\\\"dipPosition\\\":[-129.236,135.637,-95.742],\\\"direction\\\":[0.342745,-0.391991,-0.853738],\\\"extended\\\":true,\\\"handId\\\":7,\\\"id\\\":73,\\\"length\\\":60.5878,\\\"mcpPosition\\\":[-142.087,157.346,-33.2799],\\\"pipPosition\\\":[-138.165,145.849,-73.5016],\\\"stabilizedTipPosition\\\":[-120.998,136.58,-101.192],\\\"timeVisible\\\":4.90555,\\\"tipPosition\\\":[-123.304,130.439,-105.986],\\\"tipVelocity\\\":[-44.0143,-278.95,-142.622],\\\"tool\\\":false,\\\"touchDistance\\\":-0.462754,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":3,\\\"width\\\":16.9994},{\\\"bases\\\":[[[-0.323171,-0.934217,0.15099],[-0.940658,0.299657,-0.159276],[-0.103553,0.193503,0.975619]],[[-0.339269,-0.841084,0.421277],[-0.939241,0.327719,-0.10211],[0.0521774,0.430323,0.901166]],[[-0.339269,-0.841084,0.421277],[-0.905673,0.171002,-0.387963],[-0.25427,0.513163,0.819762]],[[-0.339269,-0.841084,0.421277],[-0.801124,0.0236108,-0.598033],[-0.493049,0.540389,0.681823]]],\\\"btipPosition\\\":[-140.207,107.494,-84.6202],\\\"carpPosition\\\":[-156.787,150.552,24.6736],\\\"dipPosition\\\":[-148.199,116.253,-73.5683],\\\"direction\\\":[0.25427,-0.513163,-0.819762],\\\"extended\\\":true,\\\"handId\\\":7,\\\"id\\\":74,\\\"length\\\":47.4997,\\\"mcpPosition\\\":[-151.14,140,-28.5255],\\\"pipPosition\\\":[-152.875,125.692,-58.4905],\\\"stabilizedTipPosition\\\":[-140.475,115.661,-78.0398],\\\"timeVisible\\\":4.90555,\\\"tipPosition\\\":[-141.835,109.686,-81.9957],\\\"tipVelocity\\\":[-65.8378,-258.487,-155.64],\\\"tool\\\":false,\\\"touchDistance\\\":-0.443776,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":4,\\\"width\\\":15.1002},{\\\"bases\\\":[[[0.814684,0.487857,-0.313505],[-0.182811,0.729107,0.659533],[0.550336,-0.479999,0.683177]],[[0.710197,0.561823,-0.424236],[-0.117724,0.688895,0.715238],[0.694091,-0.458017,0.555391]],[[0.710197,0.561823,-0.424236],[-0.172564,0.723145,0.668792],[0.682526,-0.401766,0.610526]],[[0.710197,0.561823,-0.424236],[-0.0876256,0.668462,0.738566],[0.698529,-0.487353,0.52397]]],\\\"btipPosition\\\":[-25.5902,226.359,-18.8319],\\\"carpPosition\\\":[48.6764,178.392,41.9709],\\\"dipPosition\\\":[-9.2421,214.953,-6.56911],\\\"direction\\\":[-0.682526,0.401766,-0.610526],\\\"extended\\\":true,\\\"handId\\\":8,\\\"id\\\":80,\\\"length\\\":52.1164,\\\"mcpPosition\\\":[48.6764,178.392,41.9709],\\\"pipPosition\\\":[14.029,201.255,14.2471],\\\"stabilizedTipPosition\\\":[-17.1156,232.521,-7.45963],\\\"timeVisible\\\":4.89103,\\\"tipPosition\\\":[-20.9814,224.673,-16.141],\\\"tipVelocity\\\":[-98.5787,-196.838,-199.447],\\\"tool\\\":false,\\\"touchDistance\\\":-0.385911,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":0,\\\"width\\\":20.25},{\\\"bases\\\":[[[0.660456,-0.550665,-0.510457],[0.583219,0.804395,-0.113156],[0.47292,-0.222974,0.852426]],[[0.754488,-0.588038,-0.291479],[0.504885,0.803781,-0.314685],[0.419332,0.0902623,0.903335]],[[0.754488,-0.588038,-0.291479],[0.405989,0.767113,-0.4967],[0.515676,0.256417,0.817514]],[[0.754488,-0.588038,-0.291479],[0.320396,0.717605,-0.618377],[0.572796,0.373169,0.729829]]],\\\"btipPosition\\\":[-10.7997,191.009,-104.377],\\\"carpPosition\\\":[64.259,191.057,29.3745],\\\"dipPosition\\\":[-1.01315,197.385,-91.9072],\\\"direction\\\":[-0.515676,-0.256417,-0.817514],\\\"extended\\\":true,\\\"handId\\\":8,\\\"id\\\":81,\\\"length\\\":58.8075,\\\"mcpPosition\\\":[29.4664,207.461,-33.3381],\\\"pipPosition\\\":[11.4509,203.583,-72.1475],\\\"stabilizedTipPosition\\\":[-5.57067,201.335,-92.8294],\\\"timeVisible\\\":4.89103,\\\"tipPosition\\\":[-8.42978,193.363,-101.642],\\\"tipVelocity\\\":[-106.91,-234.877,-180.853],\\\"tool\\\":false,\\\"touchDistance\\\":-0.408854,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":1,\\\"width\\\":19.3428},{\\\"bases\\\":[[[0.60911,-0.704734,-0.363778],[0.696722,0.694627,-0.179084],[0.378897,-0.144371,0.914109]],[[0.673168,-0.719369,-0.171329],[0.528333,0.629968,-0.569214],[0.517407,0.292658,0.80414]],[[0.673168,-0.719369,-0.171329],[0.361721,0.522396,-0.772179],[0.644983,0.457833,0.611871]],[[0.673168,-0.719369,-0.171329],[0.229281,0.423306,-0.876494],[0.703047,0.550745,0.449893]]],\\\"btipPosition\\\":[-9.90862,158.447,-105.927],\\\"carpPosition\\\":[73.0181,185.85,22.462],\\\"dipPosition\\\":[3.30305,168.797,-97.4729],\\\"direction\\\":[-0.644983,-0.457833,-0.611871],\\\"extended\\\":true,\\\"handId\\\":8,\\\"id\\\":82,\\\"length\\\":67.0064,\\\"mcpPosition\\\":[46.5832,195.922,-41.3136],\\\"pipPosition\\\":[21.644,181.816,-80.0735],\\\"stabilizedTipPosition\\\":[-2.16103,170.081,-99.9257],\\\"timeVisible\\\":4.89103,\\\"tipPosition\\\":[-5.96895,161.9,-105.068],\\\"tipVelocity\\\":[-98.4787,-218.903,-170.322],\\\"tool\\\":false,\\\"touchDistance\\\":-0.245336,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":2,\\\"width\\\":18.9972},{\\\"bases\\\":[[[0.603963,-0.768643,-0.210752],[0.750183,0.637546,-0.175385],[0.269173,-0.0521768,0.961677]],[[0.632942,-0.769121,-0.0885307],[0.605072,0.562766,-0.56319],[0.482983,0.302899,0.821571]],[[0.632942,-0.769121,-0.0885307],[0.457363,0.463726,-0.7588],[0.624663,0.439786,0.645279]],[[0.632942,-0.769121,-0.0885307],[0.336001,0.375914,-0.863592],[0.697487,0.516858,0.496357]]],\\\"btipPosition\\\":[12.0041,145.873,-106.993],\\\"carpPosition\\\":[80.7808,177.978,17.1037],\\\"dipPosition\\\":[25.0359,155.53,-97.7188],\\\"direction\\\":[-0.624663,-0.439786,-0.645279],\\\"extended\\\":true,\\\"handId\\\":8,\\\"id\\\":83,\\\"length\\\":64.4285,\\\"mcpPosition\\\":[63.9198,181.247,-43.1358],\\\"pipPosition\\\":[42.3403,167.713,-79.8433],\\\"stabilizedTipPosition\\\":[19.734,156.239,-99.9608],\\\"timeVisible\\\":4.89103,\\\"tipPosition\\\":[16.1806,148.596,-105.778],\\\"tipVelocity\\\":[-109.365,-204.984,-167.134],\\\"tool\\\":false,\\\"touchDistance\\\":-0.323622,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":3,\\\"width\\\":18.077},{\\\"bases\\\":[[[0.498747,-0.864221,-0.066137],[0.855803,0.503101,-0.120374],[0.137304,0.00343606,0.990523]],[[0.516673,-0.819827,0.246845],[0.838811,0.426912,-0.33785],[0.171598,0.381614,0.908254]],[[0.516673,-0.819827,0.246845],[0.795669,0.353302,-0.492026],[0.316166,0.450623,0.834852]],[[0.516673,-0.819827,0.246845],[0.747635,0.29151,-0.596711],[0.417242,0.492854,0.763547]]],\\\"btipPosition\\\":[57.6581,133.582,-104.127],\\\"carpPosition\\\":[85.063,164.583,14.9139],\\\"dipPosition\\\":[64.85,142.077,-90.9656],\\\"direction\\\":[-0.316166,-0.450623,-0.834852],\\\"extended\\\":true,\\\"handId\\\":8,\\\"id\\\":84,\\\"length\\\":50.5107,\\\"mcpPosition\\\":[77.1014,164.384,-42.5218],\\\"pipPosition\\\":[71.0338,150.89,-74.6369],\\\"stabilizedTipPosition\\\":[63.5085,144.811,-93.4251],\\\"timeVisible\\\":4.89103,\\\"tipPosition\\\":[60.0605,136.331,-101.549],\\\"tipVelocity\\\":[-90.97,-206.482,-177.741],\\\"tool\\\":false,\\\"touchDistance\\\":-0.451253,\\\"touchZone\\\":\\\"touching\\\",\\\"type\\\":4,\\\"width\\\":16.0574}],\\\"r\\\":[[0.892047,0.413434,-0.18255],[-0.412994,0.58167,-0.700782],[-0.183544,0.700523,0.689623]],\\\"s\\\":0.562438,\\\"t\\\":[73.9263,-124.873,-158.186],\\\"timestamp\\\":1556041054393621}\",\"toString\":\"Frame [ id:802429 | timestamp:1556041054393621 | Hand count:(2) | Pointable count:(10) | Gesture count:(0) ]\",\"hands\":[{\"palmPosition\":[-131.555,167.366,-12.6124],\"grabStrength\":0,\"confidence\":0.791238,\"direction\":[0.182657,0.0781232,-0.980068],\"palmNormal\":[0.781932,-0.615828,0.0966412],\"palmVelocity\":[-26.8695,-262.154,-157.729],\"pinchStrength\":0,\"sphereCenter\":[-109.753,142.174,-49.59],\"sphereRadius\":63.1926,\"stabilizedPalmPosition\":[-129.607,177.223,-4.31145],\"type\":\"left\",\"toString\":\"Hand (left) [ id: 7 | palm velocity:-26.8695,-262.154,-157.729 | sphere center:-109.753,142.174,-49.59 ] \",\"roll\":0.9036793092671309,\"pitch\":0.07954383050316415,\"yaw\":0.18425780712348383,\"arm\":{\"basis\":[[-0.542561,-0.559827,-0.626276],[-0.801562,0.56803,0.186655],[-0.251249,-0.60327,0.756927]],\"width\":59.9215,\"center\":[-180.17599487304688,83.69355773925781,131.61329650878906],\"matrix\":[0.5425609946250916,0.5598270297050476,0.6262760162353516,-180.17599487304688,-0.8015620112419128,0.5680299997329712,0.18665499985218048,83.69355773925781,-0.2512489855289459,-0.6032699942588806,0.7569270133972168,131.61329650878906,0,0,0,1],\"nextJoint\":[-148.279,160.28,35.5196],\"prevJoint\":[-212.073,7.10711,227.707],\"type\":4},\"fingers\":[{\"bones\":[{\"basis\":[[-0.903568,0.250578,-0.347527],[0.0586842,0.875875,0.478956],[-0.424406,-0.412376,0.806118]],\"center\":[-124.947998046875,174.79200744628906,44.308101654052734],\"matrix\":[0.9035680294036865,-0.25057798624038696,0.34752699732780457,-124.947998046875,0.058684200048446655,0.8758749961853027,0.478956013917923,174.79200744628906,-0.4244059920310974,-0.4123759865760803,0.8061180114746094,44.308101654052734,0,0,0,1],\"nextJoint\":[-124.948,174.792,44.3081],\"prevJoint\":[-124.948,174.792,44.3081],\"width\":19.0429,\"type\":0},{\"basis\":[[-0.803248,0.32631,-0.498311],[-0.147543,0.70152,0.69721],[-0.577081,-0.633555,0.51535]],\"center\":[-111.40325164794922,189.66250610351562,32.21234893798828],\"matrix\":[0.8032479882240295,-0.32631000876426697,0.49831101298332214,-111.40325164794922,-0.14754299819469452,0.7015200257301331,0.6972100138664246,189.66250610351562,-0.577081024646759,-0.633554995059967,0.5153499841690063,32.21234893798828,0,0,0,1],\"nextJoint\":[-97.8585,204.533,20.1166],\"prevJoint\":[-124.948,174.792,44.3081],\"width\":19.0429,\"type\":1},{\"basis\":[[-0.803248,0.32631,-0.498311],[0.0451157,0.867518,0.495356],[-0.593933,-0.375412,0.711554]],\"center\":[-88.33679962158203,210.55149841308594,8.709295272827148],\"matrix\":[0.8032479882240295,-0.32631000876426697,0.49831101298332214,-88.33679962158203,0.04511570185422897,0.8675180077552795,0.4953559935092926,210.55149841308594,-0.5939329862594604,-0.3754119873046875,0.7115539908409119,8.709295272827148,0,0,0,1],\"nextJoint\":[-78.8151,216.57,-2.69801],\"prevJoint\":[-97.8585,204.533,20.1166],\"width\":19.0429,\"type\":2},{\"basis\":[[-0.803248,0.32631,-0.498311],[-0.125591,0.725001,0.6772],[-0.582253,-0.606544,0.541374]],\"center\":[-72.40785217285156,223.2445068359375,-8.655405044555664],\"matrix\":[0.8032479882240295,-0.32631000876426697,0.49831101298332214,-72.40785217285156,-0.1255909949541092,0.7250009775161743,0.6772000193595886,223.2445068359375,-0.5822529792785645,-0.606544017791748,0.5413740277290344,-8.655405044555664,0,0,0,1],\"nextJoint\":[-66.0006,229.919,-14.6128],\"prevJoint\":[-78.8151,216.57,-2.69801],\"width\":19.0429,\"type\":3}],\"type\":0,\"extended\":true,\"toString\":\"Finger [ id:70 49.0096mmx | width:19.0429mm | direction:0.593933,0.375412,-0.711554 ]\",\"carpPosition\":[-124.948,174.792,44.3081],\"dipPosition\":[-78.8151,216.57,-2.69801],\"mcpPosition\":[-124.948,174.792,44.3081],\"pipPosition\":[-97.8585,204.533,20.1166],\"tipPosition\":[-69.0302,226.635,-10.7903],\"length\":49.0096,\"timeVisible\":4.90555,\"width\":19.0429},{\"bones\":[{\"basis\":[[-0.556873,-0.759751,-0.335664],[-0.731725,0.639965,-0.234569],[-0.393027,-0.114988,0.912309]],\"center\":[-128.41250610351562,184.93350219726562,-0.20595000684261322],\"matrix\":[0.5568730235099792,0.75975102186203,0.3356640040874481,-128.41250610351562,-0.7317249774932861,0.6399649977684021,-0.2345689982175827,184.93350219726562,-0.39302700757980347,-0.11498799920082092,0.9123089909553528,-0.20595000684261322,0,0,0,1],\"nextJoint\":[-114.817,188.911,-31.7645],\"prevJoint\":[-142.008,180.956,31.3526],\"width\":18.1897,\"type\":0},{\"basis\":[[-0.61096,-0.768394,-0.190523],[-0.781053,0.624323,-0.0132984],[-0.129166,-0.140683,0.981593]],\"center\":[-112.20800018310547,191.7530059814453,-51.59334945678711],\"matrix\":[0.6109600067138672,0.7683939933776855,0.19052299857139587,-112.20800018310547,-0.7810530066490173,0.6243230104446411,-0.013298399746418,191.7530059814453,-0.12916600704193115,-0.14068299531936646,0.9815930128097534,-51.59334945678711,0,0,0,1],\"nextJoint\":[-109.599,194.595,-71.4222],\"prevJoint\":[-114.817,188.911,-31.7645],\"width\":18.1897,\"type\":1},{\"basis\":[[-0.61096,-0.768394,-0.190523],[-0.742701,0.63965,-0.198101],[-0.274087,-0.0204698,0.961487]],\"center\":[-106.48400115966797,194.82749938964844,-82.34929656982422],\"matrix\":[0.6109600067138672,0.7683939933776855,0.19052299857139587,-106.48400115966797,-0.74270099401474,0.6396499872207642,-0.1981009989976883,194.82749938964844,-0.27408701181411743,-0.020469799637794495,0.9614869952201843,-82.34929656982422,0,0,0,1],\"nextJoint\":[-103.369,195.06,-93.2764],\"prevJoint\":[-109.599,194.595,-71.4222],\"width\":18.1897,\"type\":2},{\"basis\":[[-0.61096,-0.768394,-0.190523],[-0.694868,0.635812,-0.336008],[-0.379323,0.0728991,0.922388]],\"center\":[-100.32150268554688,194.47450256347656,-100.68620300292969],\"matrix\":[0.6109600067138672,0.7683939933776855,0.19052299857139587,-100.32150268554688,-0.6948680281639099,0.635811984539032,-0.3360080122947693,194.47450256347656,-0.37932300567626953,0.07289910316467285,0.9223880171775818,-100.68620300292969,0,0,0,1],\"nextJoint\":[-97.274,193.889,-108.096],\"prevJoint\":[-103.369,195.06,-93.2764],\"width\":18.1897,\"type\":3}],\"type\":1,\"extended\":true,\"toString\":\"Finger [ id:71 55.3019mmx | width:18.1897mm | direction:0.274087,0.0204698,-0.961487 ]\",\"carpPosition\":[-142.008,180.956,31.3526],\"dipPosition\":[-103.369,195.06,-93.2764],\"mcpPosition\":[-114.817,188.911,-31.7645],\"pipPosition\":[-109.599,194.595,-71.4222],\"tipPosition\":[-100.296,195.14,-104.433],\"length\":55.3019,\"timeVisible\":4.90555,\"width\":18.1897},{\"bones\":[{\"basis\":[[-0.471898,-0.866194,-0.164382],[-0.823788,0.499627,-0.267853],[-0.314142,-0.0090166,0.949333]],\"center\":[-139.03550720214844,173.63699340820312,-4.515600204467773],\"matrix\":[0.47189798951148987,0.8661940097808838,0.1643819957971573,-139.03550720214844,-0.8237879872322083,0.4996269941329956,-0.2678529918193817,173.63699340820312,-0.31414198875427246,-0.00901660043746233,0.9493330121040344,-4.515600204467773,0,0,0,1],\"nextJoint\":[-128.73,173.933,-35.658],\"prevJoint\":[-149.341,173.341,26.6268],\"width\":17.8647,\"type\":0},{\"basis\":[[-0.531921,-0.844635,0.0604336],[-0.846532,0.528625,-0.0627605],[-0.021063,0.0845426,0.996197]],\"center\":[-128.25250244140625,172.01699829101562,-58.2353515625],\"matrix\":[0.5319210290908813,0.844635009765625,-0.06043360009789467,-128.25250244140625,-0.8465319871902466,0.5286250114440918,-0.06276050209999084,172.01699829101562,-0.021062999963760376,0.08454260230064392,0.996196985244751,-58.2353515625,0,0,0,1],\"nextJoint\":[-127.775,170.101,-80.8127],\"prevJoint\":[-128.73,173.933,-35.658],\"width\":17.8647,\"type\":1},{\"basis\":[[-0.531921,-0.844635,0.0604336],[-0.814282,0.490608,-0.310239],[-0.232389,0.214232,0.948736]],\"center\":[-124.66799926757812,167.2364959716797,-93.49784851074219],\"matrix\":[0.5319210290908813,0.844635009765625,-0.06043360009789467,-124.66799926757812,-0.8142820000648499,0.49060800671577454,-0.3102389872074127,167.2364959716797,-0.23238900303840637,0.21423199772834778,0.9487360119819641,-93.49784851074219,0,0,0,1],\"nextJoint\":[-121.561,164.372,-106.183],\"prevJoint\":[-127.775,170.101,-80.8127],\"width\":17.8647,\"type\":2},{\"basis\":[[-0.531921,-0.844635,0.0604336],[-0.74362,0.43178,-0.510485],[-0.405079,0.316477,0.857761]],\"center\":[-117.98149871826172,161.57550048828125,-113.76200103759766],\"matrix\":[0.5319210290908813,0.844635009765625,-0.06043360009789467,-117.98149871826172,-0.743619978427887,0.43178001046180725,-0.5104849934577942,161.57550048828125,-0.4050790071487427,0.3164770007133484,0.857761025428772,-113.76200103759766,0,0,0,1],\"nextJoint\":[-114.402,158.779,-121.341],\"prevJoint\":[-121.561,164.372,-106.183],\"width\":17.8647,\"type\":3}],\"type\":2,\"extended\":true,\"toString\":\"Finger [ id:72 63.0121mmx | width:17.8647mm | direction:0.232389,-0.214232,-0.948736 ]\",\"carpPosition\":[-149.341,173.341,26.6268],\"dipPosition\":[-121.561,164.372,-106.183],\"mcpPosition\":[-128.73,173.933,-35.658],\"pipPosition\":[-127.775,170.101,-80.8127],\"tipPosition\":[-117.713,161.431,-117.961],\"length\":63.0121,\"timeVisible\":4.90555,\"width\":17.8647},{\"bones\":[{\"basis\":[[-0.44953,-0.893262,-0.00222521],[-0.864993,0.435923,-0.248514],[-0.222958,0.10979,0.968626]],\"center\":[-148.6540069580078,160.5800018310547,-4.750999927520752],\"matrix\":[0.4495300054550171,0.8932620286941528,0.0022252099588513374,-148.6540069580078,-0.8649929761886597,0.4359230101108551,-0.24851399660110474,160.5800018310547,-0.22295799851417542,0.10978999733924866,0.9686260223388672,-4.750999927520752,0,0,0,1],\"nextJoint\":[-142.087,157.346,-33.2799],\"prevJoint\":[-155.221,163.814,23.7779],\"width\":16.9994,\"type\":0},{\"basis\":[[-0.485658,-0.851857,0.196153],[-0.869151,0.446606,-0.212415],[-0.0933439,0.273647,0.95729]],\"center\":[-140.12600708007812,151.59750366210938,-53.390750885009766],\"matrix\":[0.4856579899787903,0.8518570065498352,-0.19615299999713898,-140.12600708007812,-0.8691509962081909,0.44660601019859314,-0.21241499483585358,151.59750366210938,-0.09334389865398407,0.2736470103263855,0.95728999376297,-53.390750885009766,0,0,0,1],\"nextJoint\":[-138.165,145.849,-73.5016],\"prevJoint\":[-142.087,157.346,-33.2799],\"width\":16.9994,\"type\":1},{\"basis\":[[-0.485658,-0.851857,0.196153],[-0.804153,0.347394,-0.482343],[-0.342745,0.391991,0.853738]],\"center\":[-133.70050048828125,140.7429962158203,-84.6218032836914],\"matrix\":[0.4856579899787903,0.8518570065498352,-0.19615299999713898,-133.70050048828125,-0.8041530251502991,0.3473939895629883,-0.48234298825263977,140.7429962158203,-0.34274500608444214,0.39199098944664,0.853738009929657,-84.6218032836914,0,0,0,1],\"nextJoint\":[-129.236,135.637,-95.742],\"prevJoint\":[-138.165,145.849,-73.5016],\"width\":16.9994,\"type\":2},{\"basis\":[[-0.485658,-0.851857,0.196153],[-0.697958,0.242781,-0.67373],[-0.526299,0.464109,0.712469]],\"center\":[-124.61250305175781,131.55999755859375,-102.0009994506836],\"matrix\":[0.4856579899787903,0.8518570065498352,-0.19615299999713898,-124.61250305175781,-0.6979579925537109,0.24278099834918976,-0.6737300157546997,131.55999755859375,-0.526298999786377,0.46410900354385376,0.7124689817428589,-102.0009994506836,0,0,0,1],\"nextJoint\":[-119.989,127.483,-108.26],\"prevJoint\":[-129.236,135.637,-95.742],\"width\":16.9994,\"type\":3}],\"type\":3,\"extended\":true,\"toString\":\"Finger [ id:73 60.5878mmx | width:16.9994mm | direction:0.342745,-0.391991,-0.853738 ]\",\"carpPosition\":[-155.221,163.814,23.7779],\"dipPosition\":[-129.236,135.637,-95.742],\"mcpPosition\":[-142.087,157.346,-33.2799],\"pipPosition\":[-138.165,145.849,-73.5016],\"tipPosition\":[-123.304,130.439,-105.986],\"length\":60.5878,\"timeVisible\":4.90555,\"width\":16.9994},{\"bones\":[{\"basis\":[[-0.323171,-0.934217,0.15099],[-0.940658,0.299657,-0.159276],[-0.103553,0.193503,0.975619]],\"center\":[-153.9635009765625,145.2760009765625,-1.925950050354004],\"matrix\":[0.3231709897518158,0.9342169761657715,-0.15098999440670013,-153.9635009765625,-0.9406579732894897,0.2996569871902466,-0.15927599370479584,145.2760009765625,-0.10355299711227417,0.1935030072927475,0.9756190180778503,-1.925950050354004,0,0,0,1],\"nextJoint\":[-151.14,140,-28.5255],\"prevJoint\":[-156.787,150.552,24.6736],\"width\":15.1002,\"type\":0},{\"basis\":[[-0.339269,-0.841084,0.421277],[-0.939241,0.327719,-0.10211],[0.0521774,0.430323,0.901166]],\"center\":[-152.00750732421875,132.8459930419922,-43.507999420166016],\"matrix\":[0.3392690122127533,0.8410840034484863,-0.4212769865989685,-152.00750732421875,-0.9392409920692444,0.3277190029621124,-0.10210999846458435,132.8459930419922,0.05217739939689636,0.4303230047225952,0.9011660218238831,-43.507999420166016,0,0,0,1],\"nextJoint\":[-152.875,125.692,-58.4905],\"prevJoint\":[-151.14,140,-28.5255],\"width\":15.1002,\"type\":1},{\"basis\":[[-0.339269,-0.841084,0.421277],[-0.905673,0.171002,-0.387963],[-0.25427,0.513163,0.819762]],\"center\":[-150.53700256347656,120.97250366210938,-66.02940368652344],\"matrix\":[0.3392690122127533,0.8410840034484863,-0.4212769865989685,-150.53700256347656,-0.9056730270385742,0.17100200057029724,-0.3879629969596863,120.97250366210938,-0.2542699873447418,0.5131629705429077,0.8197619915008545,-66.02940368652344,0,0,0,1],\"nextJoint\":[-148.199,116.253,-73.5683],\"prevJoint\":[-152.875,125.692,-58.4905],\"width\":15.1002,\"type\":2},{\"basis\":[[-0.339269,-0.841084,0.421277],[-0.801124,0.0236108,-0.598033],[-0.493049,0.540389,0.681823]],\"center\":[-144.2030029296875,111.87349700927734,-79.09425354003906],\"matrix\":[0.3392690122127533,0.8410840034484863,-0.4212769865989685,-144.2030029296875,-0.8011239767074585,0.023610800504684448,-0.5980330109596252,111.87349700927734,-0.4930489957332611,0.5403890013694763,0.6818230152130127,-79.09425354003906,0,0,0,1],\"nextJoint\":[-140.207,107.494,-84.6202],\"prevJoint\":[-148.199,116.253,-73.5683],\"width\":15.1002,\"type\":3}],\"type\":4,\"extended\":true,\"toString\":\"Finger [ id:74 47.4997mmx | width:15.1002mm | direction:0.25427,-0.513163,-0.819762 ]\",\"carpPosition\":[-156.787,150.552,24.6736],\"dipPosition\":[-148.199,116.253,-73.5683],\"mcpPosition\":[-151.14,140,-28.5255],\"pipPosition\":[-152.875,125.692,-58.4905],\"tipPosition\":[-141.835,109.686,-81.9957],\"length\":47.4997,\"timeVisible\":4.90555,\"width\":15.1002}]},{\"palmPosition\":[52.5938,184.731,-19.0204],\"grabStrength\":0,\"confidence\":0.969728,\"direction\":[-0.26487,0.242549,-0.933281],\"palmNormal\":[-0.64692,-0.762419,-0.014545],\"palmVelocity\":[-81.3972,-172.895,-196.216],\"pinchStrength\":0,\"sphereCenter\":[-26.3298,110.518,-27.7057],\"sphereRadius\":108.325,\"stabilizedPalmPosition\":[57.0485,196.221,-8.6564],\"type\":\"right\",\"toString\":\"Hand (right) [ id: 8 | palm velocity:-81.3972,-172.895,-196.216 | sphere center:-26.3298,110.518,-27.7057 ] \",\"roll\":-0.7036282950961679,\"pitch\":0.2542636166870264,\"yaw\":-0.2765337656959516,\"arm\":{\"basis\":[[0.431863,-0.32542,-0.841187],[0.655103,0.754225,0.0445502],[0.619947,-0.570304,0.538906]],\"width\":63.72,\"center\":[158.83514404296875,93.36284637451172,101.45659637451172],\"matrix\":[0.431863009929657,-0.32541999220848083,-0.8411870002746582,158.83514404296875,0.6551030278205872,0.7542250156402588,0.044550199061632156,93.36284637451172,0.6199470162391663,-0.5703039765357971,0.5389059782028198,101.45659637451172,0,0,0,1],\"nextJoint\":[75.1423,170.354,28.7042],\"prevJoint\":[242.528,16.3717,174.209],\"type\":4},\"fingers\":[{\"bones\":[{\"basis\":[[0.814684,0.487857,-0.313505],[-0.182811,0.729107,0.659533],[0.550336,-0.479999,0.683177]],\"center\":[48.67639923095703,178.39199829101562,41.97090148925781],\"matrix\":[0.8146839737892151,0.48785701394081116,-0.31350499391555786,48.67639923095703,-0.18281100690364838,0.7291070222854614,0.6595330238342285,178.39199829101562,0.5503360033035278,-0.47999900579452515,0.6831769943237305,41.97090148925781,0,0,0,1],\"nextJoint\":[48.6764,178.392,41.9709],\"prevJoint\":[48.6764,178.392,41.9709],\"width\":20.25,\"type\":0},{\"basis\":[[0.710197,0.561823,-0.424236],[-0.117724,0.688895,0.715238],[0.694091,-0.458017,0.555391]],\"center\":[31.352699279785156,189.82350158691406,28.108999252319336],\"matrix\":[0.7101969718933105,0.5618230104446411,-0.424235999584198,31.352699279785156,-0.11772400140762329,0.6888949871063232,0.7152379751205444,189.82350158691406,0.6940910220146179,-0.4580169916152954,0.5553910136222839,28.108999252319336,0,0,0,1],\"nextJoint\":[14.029,201.255,14.2471],\"prevJoint\":[48.6764,178.392,41.9709],\"width\":20.25,\"type\":1},{\"basis\":[[0.710197,0.561823,-0.424236],[-0.172564,0.723145,0.668792],[0.682526,-0.401766,0.610526]],\"center\":[2.3934500217437744,208.10400390625,3.8389949798583984],\"matrix\":[0.7101969718933105,0.5618230104446411,-0.424235999584198,2.3934500217437744,-0.17256399989128113,0.7231450080871582,0.6687920093536377,208.10400390625,0.6825259923934937,-0.40176600217819214,0.6105260252952576,3.8389949798583984,0,0,0,1],\"nextJoint\":[-9.2421,214.953,-6.56911],\"prevJoint\":[14.029,201.255,14.2471],\"width\":20.25,\"type\":2},{\"basis\":[[0.710197,0.561823,-0.424236],[-0.0876256,0.668462,0.738566],[0.698529,-0.487353,0.52397]],\"center\":[-17.416149139404297,220.656005859375,-12.700505256652832],\"matrix\":[0.7101969718933105,0.5618230104446411,-0.424235999584198,-17.416149139404297,-0.08762560039758682,0.6684619784355164,0.738565981388092,220.656005859375,0.6985290050506592,-0.48735299706459045,0.5239700078964233,-12.700505256652832,0,0,0,1],\"nextJoint\":[-25.5902,226.359,-18.8319],\"prevJoint\":[-9.2421,214.953,-6.56911],\"width\":20.25,\"type\":3}],\"type\":0,\"extended\":true,\"toString\":\"Finger [ id:80 52.1164mmx | width:20.25mm | direction:-0.682526,0.401766,-0.610526 ]\",\"carpPosition\":[48.6764,178.392,41.9709],\"dipPosition\":[-9.2421,214.953,-6.56911],\"mcpPosition\":[48.6764,178.392,41.9709],\"pipPosition\":[14.029,201.255,14.2471],\"tipPosition\":[-20.9814,224.673,-16.141],\"length\":52.1164,\"timeVisible\":4.89103,\"width\":20.25},{\"bones\":[{\"basis\":[[0.660456,-0.550665,-0.510457],[0.583219,0.804395,-0.113156],[0.47292,-0.222974,0.852426]],\"center\":[46.862701416015625,199.25900268554688,-1.9817999601364136],\"matrix\":[0.6604560017585754,-0.550665020942688,-0.5104569792747498,46.862701416015625,0.5832189917564392,0.8043950200080872,-0.11315599828958511,199.25900268554688,0.4729200005531311,-0.2229740023612976,0.8524259924888611,-1.9817999601364136,0,0,0,1],\"nextJoint\":[29.4664,207.461,-33.3381],\"prevJoint\":[64.259,191.057,29.3745],\"width\":19.3428,\"type\":0},{\"basis\":[[0.754488,-0.588038,-0.291479],[0.504885,0.803781,-0.314685],[0.419332,0.0902623,0.903335]],\"center\":[20.458650588989258,205.52200317382812,-52.742801666259766],\"matrix\":[0.7544879913330078,-0.5880380272865295,-0.2914789915084839,20.458650588989258,0.5048850178718567,0.8037809729576111,-0.31468498706817627,205.52200317382812,0.41933199763298035,0.09026230126619339,0.9033349752426147,-52.742801666259766,0,0,0,1],\"nextJoint\":[11.4509,203.583,-72.1475],\"prevJoint\":[29.4664,207.461,-33.3381],\"width\":19.3428,\"type\":1},{\"basis\":[[0.754488,-0.588038,-0.291479],[0.405989,0.767113,-0.4967],[0.515676,0.256417,0.817514]],\"center\":[5.218874931335449,200.48399353027344,-82.02735137939453],\"matrix\":[0.7544879913330078,-0.5880380272865295,-0.2914789915084839,5.218874931335449,0.40598899126052856,0.7671129703521729,-0.4966999888420105,200.48399353027344,0.5156760215759277,0.25641700625419617,0.8175140023231506,-82.02735137939453,0,0,0,1],\"nextJoint\":[-1.01315,197.385,-91.9072],\"prevJoint\":[11.4509,203.583,-72.1475],\"width\":19.3428,\"type\":2},{\"basis\":[[0.754488,-0.588038,-0.291479],[0.320396,0.717605,-0.618377],[0.572796,0.373169,0.729829]],\"center\":[-5.9064249992370605,194.19700622558594,-98.14209747314453],\"matrix\":[0.7544879913330078,-0.5880380272865295,-0.2914789915084839,-5.9064249992370605,0.3203960061073303,0.7176049947738647,-0.6183769702911377,194.19700622558594,0.5727959871292114,0.3731690049171448,0.7298290133476257,-98.14209747314453,0,0,0,1],\"nextJoint\":[-10.7997,191.009,-104.377],\"prevJoint\":[-1.01315,197.385,-91.9072],\"width\":19.3428,\"type\":3}],\"type\":1,\"extended\":true,\"toString\":\"Finger [ id:81 58.8075mmx | width:19.3428mm | direction:-0.515676,-0.256417,-0.817514 ]\",\"carpPosition\":[64.259,191.057,29.3745],\"dipPosition\":[-1.01315,197.385,-91.9072],\"mcpPosition\":[29.4664,207.461,-33.3381],\"pipPosition\":[11.4509,203.583,-72.1475],\"tipPosition\":[-8.42978,193.363,-101.642],\"length\":58.8075,\"timeVisible\":4.89103,\"width\":19.3428},{\"bones\":[{\"basis\":[[0.60911,-0.704734,-0.363778],[0.696722,0.694627,-0.179084],[0.378897,-0.144371,0.914109]],\"center\":[59.80065155029297,190.88600158691406,-9.425800323486328],\"matrix\":[0.6091099977493286,-0.7047340273857117,-0.3637779951095581,59.80065155029297,0.6967219710350037,0.6946269869804382,-0.17908400297164917,190.88600158691406,0.3788970112800598,-0.14437100291252136,0.9141089916229248,-9.425800323486328,0,0,0,1],\"nextJoint\":[46.5832,195.922,-41.3136],\"prevJoint\":[73.0181,185.85,22.462],\"width\":18.9972,\"type\":0},{\"basis\":[[0.673168,-0.719369,-0.171329],[0.528333,0.629968,-0.569214],[0.517407,0.292658,0.80414]],\"center\":[34.11360168457031,188.86900329589844,-60.69355010986328],\"matrix\":[0.6731680035591125,-0.7193689942359924,-0.17132900655269623,34.11360168457031,0.5283330082893372,0.629967987537384,-0.5692139863967896,188.86900329589844,0.5174070000648499,0.2926580011844635,0.8041399717330933,-60.69355010986328,0,0,0,1],\"nextJoint\":[21.644,181.816,-80.0735],\"prevJoint\":[46.5832,195.922,-41.3136],\"width\":18.9972,\"type\":1},{\"basis\":[[0.673168,-0.719369,-0.171329],[0.361721,0.522396,-0.772179],[0.644983,0.457833,0.611871]],\"center\":[12.473525047302246,175.30650329589844,-88.77320098876953],\"matrix\":[0.6731680035591125,-0.7193689942359924,-0.17132900655269623,12.473525047302246,0.361721009016037,0.5223960280418396,-0.7721790075302124,175.30650329589844,0.6449829936027527,0.4578329920768738,0.6118710041046143,-88.77320098876953,0,0,0,1],\"nextJoint\":[3.30305,168.797,-97.4729],\"prevJoint\":[21.644,181.816,-80.0735],\"width\":18.9972,\"type\":2},{\"basis\":[[0.673168,-0.719369,-0.171329],[0.229281,0.423306,-0.876494],[0.703047,0.550745,0.449893]],\"center\":[-3.3027849197387695,163.6219940185547,-101.699951171875],\"matrix\":[0.6731680035591125,-0.7193689942359924,-0.17132900655269623,-3.3027849197387695,0.2292809933423996,0.4233059883117676,-0.8764939904212952,163.6219940185547,0.703046977519989,0.5507450103759766,0.4498929977416992,-101.699951171875,0,0,0,1],\"nextJoint\":[-9.90862,158.447,-105.927],\"prevJoint\":[3.30305,168.797,-97.4729],\"width\":18.9972,\"type\":3}],\"type\":2,\"extended\":true,\"toString\":\"Finger [ id:82 67.0064mmx | width:18.9972mm | direction:-0.644983,-0.457833,-0.611871 ]\",\"carpPosition\":[73.0181,185.85,22.462],\"dipPosition\":[3.30305,168.797,-97.4729],\"mcpPosition\":[46.5832,195.922,-41.3136],\"pipPosition\":[21.644,181.816,-80.0735],\"tipPosition\":[-5.96895,161.9,-105.068],\"length\":67.0064,\"timeVisible\":4.89103,\"width\":18.9972},{\"bones\":[{\"basis\":[[0.603963,-0.768643,-0.210752],[0.750183,0.637546,-0.175385],[0.269173,-0.0521768,0.961677]],\"center\":[72.35030364990234,179.6125030517578,-13.016050338745117],\"matrix\":[0.6039630174636841,-0.7686430215835571,-0.2107519954442978,72.35030364990234,0.7501829862594604,0.6375460028648376,-0.1753849983215332,179.6125030517578,0.2691729962825775,-0.05217679962515831,0.9616770148277283,-13.016050338745117,0,0,0,1],\"nextJoint\":[63.9198,181.247,-43.1358],\"prevJoint\":[80.7808,177.978,17.1037],\"width\":18.077,\"type\":0},{\"basis\":[[0.632942,-0.769121,-0.0885307],[0.605072,0.562766,-0.56319],[0.482983,0.302899,0.821571]],\"center\":[53.13005065917969,174.47999572753906,-61.48955154418945],\"matrix\":[0.6329420208930969,-0.769120991230011,-0.08853069692850113,53.13005065917969,0.605072021484375,0.5627660155296326,-0.5631899833679199,174.47999572753906,0.4829829931259155,0.30289900302886963,0.8215709924697876,-61.48955154418945,0,0,0,1],\"nextJoint\":[42.3403,167.713,-79.8433],\"prevJoint\":[63.9198,181.247,-43.1358],\"width\":18.077,\"type\":1},{\"basis\":[[0.632942,-0.769121,-0.0885307],[0.457363,0.463726,-0.7588],[0.624663,0.439786,0.645279]],\"center\":[33.6880989074707,161.6215057373047,-88.78105163574219],\"matrix\":[0.6329420208930969,-0.769120991230011,-0.08853069692850113,33.6880989074707,0.4573630094528198,0.4637260138988495,-0.7588000297546387,161.6215057373047,0.6246629953384399,0.43978598713874817,0.6452789902687073,-88.78105163574219,0,0,0,1],\"nextJoint\":[25.0359,155.53,-97.7188],\"prevJoint\":[42.3403,167.713,-79.8433],\"width\":18.077,\"type\":2},{\"basis\":[[0.632942,-0.769121,-0.0885307],[0.336001,0.375914,-0.863592],[0.697487,0.516858,0.496357]],\"center\":[18.520000457763672,150.70150756835938,-102.35590362548828],\"matrix\":[0.6329420208930969,-0.769120991230011,-0.08853069692850113,18.520000457763672,0.3360010087490082,0.3759140074253082,-0.8635920286178589,150.70150756835938,0.6974869966506958,0.5168579816818237,0.4963569939136505,-102.35590362548828,0,0,0,1],\"nextJoint\":[12.0041,145.873,-106.993],\"prevJoint\":[25.0359,155.53,-97.7188],\"width\":18.077,\"type\":3}],\"type\":3,\"extended\":true,\"toString\":\"Finger [ id:83 64.4285mmx | width:18.077mm | direction:-0.624663,-0.439786,-0.645279 ]\",\"carpPosition\":[80.7808,177.978,17.1037],\"dipPosition\":[25.0359,155.53,-97.7188],\"mcpPosition\":[63.9198,181.247,-43.1358],\"pipPosition\":[42.3403,167.713,-79.8433],\"tipPosition\":[16.1806,148.596,-105.778],\"length\":64.4285,\"timeVisible\":4.89103,\"width\":18.077},{\"bones\":[{\"basis\":[[0.498747,-0.864221,-0.066137],[0.855803,0.503101,-0.120374],[0.137304,0.00343606,0.990523]],\"center\":[81.08219909667969,164.48350524902344,-13.803950309753418],\"matrix\":[0.49874699115753174,-0.8642209768295288,-0.06613700091838837,81.08219909667969,0.8558030128479004,0.5031009912490845,-0.12037400156259537,164.48350524902344,0.13730399310588837,0.0034360599238425493,0.9905229806900024,-13.803950309753418,0,0,0,1],\"nextJoint\":[77.1014,164.384,-42.5218],\"prevJoint\":[85.063,164.583,14.9139],\"width\":16.0574,\"type\":0},{\"basis\":[[0.516673,-0.819827,0.246845],[0.838811,0.426912,-0.33785],[0.171598,0.381614,0.908254]],\"center\":[74.06759643554688,157.63699340820312,-58.579349517822266],\"matrix\":[0.5166730284690857,-0.8198270201683044,0.24684500694274902,74.06759643554688,0.8388109803199768,0.42691200971603394,-0.33785000443458557,157.63699340820312,0.17159800231456757,0.38161399960517883,0.9082540273666382,-58.579349517822266,0,0,0,1],\"nextJoint\":[71.0338,150.89,-74.6369],\"prevJoint\":[77.1014,164.384,-42.5218],\"width\":16.0574,\"type\":1},{\"basis\":[[0.516673,-0.819827,0.246845],[0.795669,0.353302,-0.492026],[0.316166,0.450623,0.834852]],\"center\":[67.94190216064453,146.48350524902344,-82.8012466430664],\"matrix\":[0.5166730284690857,-0.8198270201683044,0.24684500694274902,67.94190216064453,0.7956690192222595,0.353302001953125,-0.4920260012149811,146.48350524902344,0.3161660134792328,0.4506230056285858,0.8348519802093506,-82.8012466430664,0,0,0,1],\"nextJoint\":[64.85,142.077,-90.9656],\"prevJoint\":[71.0338,150.89,-74.6369],\"width\":16.0574,\"type\":2},{\"basis\":[[0.516673,-0.819827,0.246845],[0.747635,0.29151,-0.596711],[0.417242,0.492854,0.763547]],\"center\":[61.254051208496094,137.82949829101562,-97.54630279541016],\"matrix\":[0.5166730284690857,-0.8198270201683044,0.24684500694274902,61.254051208496094,0.747635006904602,0.2915099859237671,-0.5967109799385071,137.82949829101562,0.41724199056625366,0.4928539991378784,0.7635470032691956,-97.54630279541016,0,0,0,1],\"nextJoint\":[57.6581,133.582,-104.127],\"prevJoint\":[64.85,142.077,-90.9656],\"width\":16.0574,\"type\":3}],\"type\":4,\"extended\":true,\"toString\":\"Finger [ id:84 50.5107mmx | width:16.0574mm | direction:-0.316166,-0.450623,-0.834852 ]\",\"carpPosition\":[85.063,164.583,14.9139],\"dipPosition\":[64.85,142.077,-90.9656],\"mcpPosition\":[77.1014,164.384,-42.5218],\"pipPosition\":[71.0338,150.89,-74.6369],\"tipPosition\":[60.0605,136.331,-101.549],\"length\":50.5107,\"timeVisible\":4.89103,\"width\":16.0574}]}],\"id\":802429}]}";
  publisher.publish(CHANNEL_REDIS, jsonToString ); 
  fs.writeFileSync('./data.json', jsonToString , 'utf-8'); 
}, 100);
module.exports = app;
