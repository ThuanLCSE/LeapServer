var createError = require('http-errors');
var express = require('express');
var path = require('path');
var cookieParser = require('cookie-parser');
var morgan = require('morgan');
var Leap=require('leapjs');
var log = require('log-to-file');
var util = require('util');
var fs = require('fs');
var redis = require('redis');
var utilLeap = require('./controller/util');
var {SensorFrame,Hand,Arm,Finger,Bone} = require('./controller/binding');

const CHANNEL_REDIS = 'leapthuan';
//redis By default redis.createClient() will use 127.0.0.1 and port 6379
var portRD = '6379'
var hostRD = '127.0.0.1'
var publisher = redis.createClient(portRD, hostRD); 
publisher.publish(CHANNEL_REDIS, "Server LAUNCH");
publisher.on('error', function (err) {
  console.log('Error ' + err);
}); 
publisher.on('connect', function() {
    console.log('connected to REDIS ' + portRD + " " + hostRD);
});

var app = express();
//route url
var indexRouter = require('./routes/index');
var redisRouter = require('./routes/redis');
app.use('/', indexRouter);
app.use('/redis', redisRouter);

app.use(morgan('combined'))
app.use(express.json());
app.use(express.urlencoded({ extended: false }));
app.use(cookieParser());
app.use(express.static(path.join(__dirname, 'public')));
  app.set('views', './public');
// Set view engine as EJS
app.engine('html', require('ejs').renderFile);
app.set('view engine', 'html');

app.use(function(req, res, next) {
  next(createError(404));
});
app.use(function(err, req, res, next) {
  // set locals, only providing error in development
  res.locals.message = err.message;
  res.locals.error = err;

  // render the error page
  res.status(err.status || 500);
  res.render('error');
});

var leapConfig = {}
var leapControllers = []
var leapData =[] ;
var fs = require('fs');
fs.readFile('config.json', 'utf8', function(err, contents) {
  leapConfig =  JSON.parse(contents)
  for (var i = 0; i< leapConfig.length ; i++){
    var controller = new Leap.Controller({
      host: leapConfig[i].ip,
      port: leapConfig[i].port});
    leapControllers.push(controller);
    leapData[leapConfig[i].ip] = {}
    leapControllers[i].on('frame', (frame) => { leapData[frame.controller.connection.host] = frame});
    leapControllers[i].connect()
  }
});
 
setInterval(function() {
  var multiHandData = {"sensors" : []} 
  var status = ""  
  for (var i = 0; i< leapConfig.length ; i++){
    //deep clone object
    leap = leapData[leapConfig[i].ip]
    var sensor = new SensorFrame(leapConfig[i]); 
    sensor.status = leap.status
    if(leap.hands && leap.hands.length > 0){ 
      sensor.setFrame(leap);  
      for(var j=0; j<leap.hands.length ; j++){
        nHand = new Hand(leap.hands[j])  
        sensor.hands.push(nHand);  
        // console.log(nHand.arm.center) 
      } 
      sensor.id = leap.id; 
    }
    multiHandData.sensors.push(sensor) 
    status = status + " leap "+leapConfig[i].ip+" " + (leap.hands!=null?leap.hands.length:0)
  } 
  console.log(status);
  // var jsonToString = utilLeap.jsonToText(multiHandData) 
  var jsonToString = '{"sensors":[{"hands":[{"palmPosition":[26.204306,109.247322,-3.039352],"id":17,"arm":{"basis":[[0.699686,-0.067254,-0.711278],[0.202441,0.97342,0.107102],[0.685169,-0.218929,0.694704]],"width":59.289127,"center":[152.7599334716797,109.39927673339844,138.4379119873047]},"confidence":1,"fingers":[{"bones":[{"basis":[[0.244354,0.639207,-0.729181],[-0.602312,0.689374,0.402472],[0.759942,0.340849,0.553453]],"center":[29.356353759765625,130.14859008789062,51.42313003540039],"matrix":[0.2443539947271347,0.6392070055007935,-0.7291809916496277,29.356353759765625,-0.6023120284080505,0.6893740296363831,0.40247198939323425,130.14859008789062,0.7599419951438904,0.34084901213645935,0.5534530282020569,51.42313003540039,0,0,0,1],"nextJoint":[29.356354,130.14859,51.42313],"prevJoint":[29.356354,130.14859,51.42313]},{"basis":[[-0.210112,0.443438,-0.87133],[-0.322635,0.809849,0.48995],[0.922908,0.384066,-0.02709]],"center":[8.571571350097656,121.49906158447266,52.03322982788086],"matrix":[-0.21011200547218323,0.44343799352645874,-0.8713300228118896,8.571571350097656,-0.3226349949836731,0.8098490238189697,0.4899500012397766,121.49906158447266,0.9229080080986023,0.38406598567962646,-0.027089999988675117,52.03322982788086,0,0,0,1],"nextJoint":[-12.213212,112.849533,52.643333],"prevJoint":[29.356354,130.14859,51.42313]},{"basis":[[-0.231942,0.433338,-0.870874],[-0.391509,0.777983,0.491389],[0.890463,0.454929,-0.010792]],"center":[-25.776891708374023,105.91998291015625,52.80771255493164],"matrix":[-0.23194199800491333,0.4333379864692688,-0.8708739876747131,-25.776891708374023,-0.3915089964866638,0.7779830098152161,0.4913890063762665,105.91998291015625,0.8904629945755005,0.454928994178772,-0.010792000219225883,52.80771255493164,0,0,0,1],"nextJoint":[-39.340572,98.990433,52.972095],"prevJoint":[-12.213212,112.849533,52.643333]},{"basis":[[-0.335342,0.347686,-0.875591],[-0.717711,0.507772,0.476506],[0.610275,0.788214,0.079261]],"center":[-44.22639083862305,92.68004608154297,52.3375358581543],"matrix":[-0.3353419899940491,0.3476859927177429,-0.875590980052948,-44.22639083862305,-0.7177109718322754,0.5077720284461975,0.47650599479675293,92.68004608154297,0.6102749705314636,0.7882140278816223,0.07926099747419357,52.3375358581543,0,0,0,1],"nextJoint":[-49.112213,86.369659,51.70298],"prevJoint":[-39.340572,98.990433,52.972095]}]},{"bones":[{"basis":[[0.834328,-0.222477,-0.504381],[-0.131671,0.808041,-0.574223],[0.535312,0.545503,0.644878]],"center":[14.258954048156738,123.70242309570312,8.563542366027832],"matrix":[0.8343279957771301,-0.2224770039319992,-0.504381000995636,14.258954048156738,-0.1316709965467453,0.808040976524353,-0.574222981929779,123.70242309570312,0.5353119969367981,0.5455030202865601,0.6448779702186584,8.563542366027832,0,0,0,1],"nextJoint":[-4.405249,104.682907,-13.920804],"prevJoint":[32.923157,142.721939,31.047888]},{"basis":[[0.825241,-0.227989,-0.516719],[0.130646,0.967148,-0.218076],[0.549462,0.112458,0.827916]],"center":[-14.944644927978516,102.52582550048828,-29.80130386352539],"matrix":[0.8252410292625427,-0.22798900306224823,-0.5167189836502075,-14.944644927978516,0.1306460052728653,0.9671480059623718,-0.21807600557804108,102.52582550048828,0.5494620203971863,0.1124579980969429,0.8279160261154175,-29.80130386352539,0,0,0,1],"nextJoint":[-25.484041,100.368744,-45.681805],"prevJoint":[-4.405249,104.682907,-13.920804]},{"basis":[[0.844395,-0.219536,-0.488672],[-0.011981,0.90421,-0.42692],[0.535587,0.366344,0.76088]],"center":[-31.211090087890625,96.45140838623047,-53.817928314208984],"matrix":[0.8443949818611145,-0.21953600645065308,-0.4886719882488251,-31.211090087890625,-0.011981000192463398,0.9042099714279175,-0.42691999673843384,96.45140838623047,0.5355870127677917,0.36634400486946106,0.7608799934387207,-53.817928314208984,0,0,0,1],"nextJoint":[-36.938141,92.534073,-61.954052],"prevJoint":[-25.484041,100.368744,-45.681805]},{"basis":[[0.892808,-0.148137,-0.42538],[-0.324594,0.443173,-0.835606],[0.312302,0.884111,0.347584]],"center":[-38.7528190612793,87.39680480957031,-63.97374725341797],"matrix":[0.8928080201148987,-0.14813700318336487,-0.42537999153137207,-38.7528190612793,-0.32459399104118347,0.44317299127578735,-0.8356059789657593,87.39680480957031,0.31230199337005615,0.8841109871864319,0.3475840091705322,-63.97374725341797,0,0,0,1],"nextJoint":[-40.567497,82.259529,-65.993439],"prevJoint":[-36.938141,92.534073,-61.954052]}]},{"bones":[{"basis":[[0.90912,-0.281202,-0.307288],[0.023063,0.770576,-0.63693],[0.415894,0.571959,0.707032]],"center":[27.958396911621094,122.29499816894531,-0.005963999778032303],"matrix":[0.9091200232505798,-0.2812019884586334,-0.3072879910469055,27.958396911621094,0.023063000291585922,0.770576000213623,-0.636929988861084,122.29499816894531,0.4158940017223358,0.5719590187072754,0.7070320248603821,-0.005963999778032303,0,0,0,1],"nextJoint":[14.207107,103.383514,-23.383541],"prevJoint":[41.709686,141.206482,23.371613]},{"basis":[[0.940188,-0.245905,-0.235747],[0.17271,0.940592,-0.292333],[0.293628,0.234132,0.926804]],"center":[7.955556392669678,98.39867401123047,-43.11585235595703],"matrix":[0.9401879906654358,-0.24590499699115753,-0.23574699461460114,7.955556392669678,0.17271000146865845,0.9405919909477234,-0.2923330068588257,98.39867401123047,0.2936280071735382,0.23413200676441193,0.9268040060997009,-43.11585235595703,0,0,0,1],"nextJoint":[1.704006,93.413841,-62.848167],"prevJoint":[14.207107,103.383514,-23.383541]},{"basis":[[0.940561,-0.245486,-0.234693],[0.09395,0.852139,-0.514813],[0.326371,0.462164,0.824552]],"center":[-2.369856595993042,87.64496612548828,-73.1404800415039],"matrix":[0.9405609965324402,-0.24548600614070892,-0.2346930056810379,-2.369856595993042,0.09395000338554382,0.8521389961242676,-0.5148130059242249,87.64496612548828,0.3263710141181946,0.4621640145778656,0.8245519995689392,-73.1404800415039,0,0,0,1],"nextJoint":[-6.443719,81.876091,-83.4328],"prevJoint":[1.704006,93.413841,-62.848167]},{"basis":[[0.942482,-0.241265,-0.231343],[-0.146956,0.322549,-0.935075],[0.30022,0.915289,0.268541]],"center":[-8.342423439025879,76.08747100830078,-85.13114929199219],"matrix":[0.9424819946289062,-0.24126499891281128,-0.23134300112724304,-8.342423439025879,-0.14695599675178528,0.3225489854812622,-0.9350749850273132,76.08747100830078,0.3002200126647949,0.9152889847755432,0.26854100823402405,-85.13114929199219,0,0,0,1],"nextJoint":[-10.241127,70.298851,-86.829506],"prevJoint":[-6.443719,81.876091,-83.4328]}]},{"bones":[{"basis":[[0.956071,-0.251252,-0.150998],[0.101202,0.766357,-0.634394],[0.275111,0.591244,0.758119]],"center":[43.33072280883789,119.30852508544922,-3.1182069778442383],"matrix":[0.9560710191726685,-0.2512519955635071,-0.15099799633026123,43.33072280883789,0.10120200365781784,0.7663570046424866,-0.6343939900398254,119.30852508544922,0.27511098980903625,0.5912439823150635,0.7581189870834351,-3.1182069778442383,0,0,0,1],"nextJoint":[35.163696,101.756683,-25.623943],"prevJoint":[51.497746,136.860367,19.387529]},{"basis":[[0.97621,-0.206714,-0.065448],[0.176305,0.932451,-0.31536],[0.126217,0.296319,0.946712]],"center":[32.687286376953125,95.94281768798828,-44.19872283935547],"matrix":[0.9762099981307983,-0.20671400427818298,-0.06544800102710724,32.687286376953125,0.17630499601364136,0.9324510097503662,-0.31536000967025757,95.94281768798828,0.12621699273586273,0.29631900787353516,0.9467120170593262,-44.19872283935547,0,0,0,1],"nextJoint":[30.21088,90.128952,-62.773502],"prevJoint":[35.163696,101.756683,-25.623943]},{"basis":[[0.971021,-0.219988,-0.093395],[0.129074,0.811616,-0.569754],[0.20114,0.541189,0.816491]],"center":[27.78102684020996,83.5911636352539,-72.63705444335938],"matrix":[0.9710209965705872,-0.21998800337314606,-0.09339500218629837,27.78102684020996,0.12907400727272034,0.8116160035133362,-0.5697540044784546,83.5911636352539,0.20114000141620636,0.5411890149116516,0.8164910078048706,-72.63705444335938,0,0,0,1],"nextJoint":[25.351175,77.053375,-82.50061],"prevJoint":[30.21088,90.128952,-62.773502]},{"basis":[[0.947383,-0.289584,-0.136405],[-0.099291,0.139265,-0.985265],[0.304314,0.946967,0.103185]],"center":[23.432897567749023,71.08405303955078,-83.15104675292969],"matrix":[0.9473829865455627,-0.2895840108394623,-0.13640500605106354,23.432897567749023,-0.09929099678993225,0.1392650008201599,-0.9852650165557861,71.08405303955078,0.304313987493515,0.9469670057296753,0.10318499803543091,-83.15104675292969,0,0,0,1],"nextJoint":[21.514622,65.114738,-83.801483],"prevJoint":[25.351175,77.053375,-82.50061]}]},{"bones":[{"basis":[[0.951534,-0.304281,0.044671],[0.272579,0.767153,-0.58067],[0.142417,0.564703,0.812913]],"center":[58.510032653808594,113.47481536865234,-1.1715220212936401],"matrix":[0.9515339732170105,-0.30428099632263184,0.04467099905014038,58.510032653808594,0.27257901430130005,0.7671530246734619,-0.5806699991226196,113.47481536865234,0.14241699874401093,0.5647029876708984,0.8129130005836487,-1.1715220212936401,0,0,0,1],"nextJoint":[54.596367,97.956604,-23.510605],"prevJoint":[62.423702,128.993027,21.167561]},{"basis":[[0.94598,-0.202057,0.253563],[0.263468,0.934854,-0.237976],[-0.18896,0.291926,0.937589]],"center":[57.54682159423828,93.39842224121094,-38.15029525756836],"matrix":[0.9459800124168396,-0.20205700397491455,0.2535629868507385,57.54682159423828,0.2634679973125458,0.9348539710044861,-0.23797599971294403,93.39842224121094,-0.188960000872612,0.29192599654197693,0.9375889897346497,-38.15029525756836,0,0,0,1],"nextJoint":[60.49728,88.840233,-52.789982],"prevJoint":[54.596367,97.956604,-23.510605]},{"basis":[[0.952314,-0.225503,0.205542],[0.302056,0.791997,-0.530568],[-0.043144,0.567352,0.822344]],"center":[60.8653678894043,83.99983215332031,-59.80586624145508],"matrix":[0.952314019203186,-0.22550299763679504,0.20554199814796448,60.8653678894043,0.3020560145378113,0.7919970154762268,-0.53056800365448,83.99983215332031,-0.043143998831510544,0.5673519968986511,0.8223440051078796,-59.80586624145508,0,0,0,1],"nextJoint":[61.233452,79.159424,-66.821747],"prevJoint":[60.49728,88.840233,-52.789982]},{"basis":[[0.926118,-0.356719,0.12271],[0.158436,0.072603,-0.984696],[0.34235,0.931386,0.123756]],"center":[59.2214241027832,73.6855697631836,-67.549072265625],"matrix":[0.926118016242981,-0.3567189872264862,0.12270999699831009,59.2214241027832,0.15843600034713745,0.0726030021905899,-0.9846959710121155,73.6855697631836,0.3423500061035156,0.9313859939575195,0.12375599890947342,-67.549072265625,0,0,0,1],"nextJoint":[57.209396,68.211723,-68.276398],"prevJoint":[61.233452,79.159424,-66.821747]}]}]},{"palmPosition":[-137.160507,90.327866,-27.761646],"id":18,"arm":{"basis":[[-0.901395,-0.406178,-0.150019],[-0.430891,0.807327,0.403183],[0.04265,-0.428069,0.902739]],"width":59.289127,"center":[-182.8603973388672,37.55870056152344,134.30625915527344]},"confidence":1,"fingers":[{"bones":[{"basis":[[-0.077176,0.893795,-0.441786],[0.260382,0.445798,0.856426],[-0.962416,0.048937,0.267133]],"center":[-168.05201721191406,88.33546447753906,21.385786056518555],"matrix":[0.07717599719762802,-0.8937950134277344,0.441785991191864,-168.05201721191406,0.2603819966316223,0.44579800963401794,0.8564260005950928,88.33546447753906,-0.9624159932136536,0.04893700033426285,0.2671329975128174,21.385786056518555,0,0,0,1],"nextJoint":[-168.052017,88.335464,21.385786],"prevJoint":[-168.052017,88.335464,21.385786]},{"basis":[[0.101011,0.862618,-0.495668],[0.3969,0.421912,0.815144],[-0.912287,0.279069,0.299756]],"center":[-147.66494750976562,82.09903717041016,14.687076568603516],"matrix":[-0.1010110005736351,-0.8626180291175842,0.4956679940223694,-147.66494750976562,0.3968999981880188,0.4219120144844055,0.8151440024375916,82.09903717041016,-0.9122869968414307,0.2790690064430237,0.2997559905052185,14.687076568603516,0,0,0,1],"nextJoint":[-127.277878,75.862617,7.988367],"prevJoint":[-168.052017,88.335464,21.385786]},{"basis":[[0.319236,0.737131,-0.595589],[0.681197,0.258431,0.68497],[-0.658831,0.62438,0.419631]],"center":[-117.31747436523438,66.42304992675781,1.6442569494247437],"matrix":[-0.31923601031303406,-0.7371309995651245,0.5955889821052551,-117.31747436523438,0.6811969876289368,0.25843098759651184,0.6849700212478638,66.42304992675781,-0.658831000328064,0.6243799924850464,0.4196310043334961,1.6442569494247437,0,0,0,1],"nextJoint":[-107.357071,56.98349,-4.699853],"prevJoint":[-127.277878,75.862617,7.988367]},{"basis":[[0.299238,0.849213,-0.43508],[0.810595,-0.466795,-0.353608],[0.503382,0.246861,0.82805]],"center":[-111.41763305664062,54.99217224121094,-11.37936782836914],"matrix":[-0.299237996339798,-0.8492130041122437,0.43507999181747437,-111.41763305664062,0.8105949759483337,-0.4667949974536896,-0.35360801219940186,54.99217224121094,0.5033820271492004,0.24686099588871002,0.8280500173568726,-11.37936782836914,0,0,0,1],"nextJoint":[-115.478188,53.000858,-18.058882],"prevJoint":[-107.357071,56.98349,-4.699853]}]},{"bones":[{"basis":[[-0.525354,0.014601,-0.850758],[0.172918,0.980821,-0.089946],[-0.833128,0.194365,0.517803]],"center":[-134.4982147216797,97.69035339355469,-8.006219863891602],"matrix":[0.5253540277481079,-0.014600999653339386,0.8507580161094666,-134.4982147216797,0.17291800677776337,0.9808210134506226,-0.08994600176811218,97.69035339355469,-0.8331279754638672,0.194364994764328,0.5178030133247375,-8.006219863891602,0,0,0,1],"nextJoint":[-105.450348,90.913635,-26.059961],"prevJoint":[-163.546082,104.467079,10.047522]},{"basis":[[-0.333801,0.017024,-0.94249],[-0.198617,0.976121,0.087975],[-0.921481,-0.21656,0.322449]],"center":[-89.10399627685547,94.75524139404297,-31.779958724975586],"matrix":[0.3338010013103485,-0.017023999243974686,0.9424899816513062,-89.10399627685547,-0.19861699640750885,0.9761210083961487,0.08797500282526016,94.75524139404297,-0.9214810132980347,-0.2165600061416626,0.3224489986896515,-31.779958724975586,0,0,0,1],"nextJoint":[-72.757637,98.596855,-37.499958],"prevJoint":[-105.450348,90.913635,-26.059961]},{"basis":[[-0.333801,0.017024,-0.94249],[-0.198617,0.976121,0.087975],[-0.921481,-0.21656,0.322449]],"center":[-63.920841217041016,100.67361450195312,-40.59217071533203],"matrix":[0.3338010013103485,-0.017023999243974686,0.9424899816513062,-63.920841217041016,-0.19861699640750885,0.9761210083961487,0.08797500282526016,100.67361450195312,-0.9214810132980347,-0.2165600061416626,0.3224489986896515,-40.59217071533203,0,0,0,1],"nextJoint":[-55.084045,102.750381,-43.684387],"prevJoint":[-72.757637,98.596855,-37.499958]},{"basis":[[-0.134461,-0.012338,-0.990842],[0.474628,0.876957,-0.075328],[-0.869855,0.48041,0.112061]],"center":[-50.54655075073242,100.24437713623047,-44.26893615722656],"matrix":[0.13446100056171417,0.012338000349700451,0.9908419847488403,-50.54655075073242,0.4746280014514923,0.8769569993019104,-0.07532799988985062,100.24437713623047,-0.8698549866676331,0.48041000962257385,0.11206100136041641,-44.26893615722656,0,0,0,1],"nextJoint":[-46.009056,97.73838,-44.853489],"prevJoint":[-55.084045,102.750381,-43.684387]}]},{"bones":[{"basis":[[-0.654812,-0.126696,-0.745097],[0.063278,0.973198,-0.221092],[-0.753138,0.191922,0.629245]],"center":[-142.91485595703125,101.7872085571289,-20.433319091796875],"matrix":[0.6548119783401489,0.12669600546360016,0.7450969815254211,-142.91485595703125,0.06327799707651138,0.9731979966163635,-0.22109200060367584,101.7872085571289,-0.75313800573349,0.19192199409008026,0.6292449831962585,-20.433319091796875,0,0,0,1],"nextJoint":[-118.012802,95.441437,-41.238911],"prevJoint":[-167.816895,108.132973,0.372272]},{"basis":[[-0.670655,-0.124034,-0.731326],[-0.039828,0.99052,-0.131469],[-0.7407,0.059043,0.669237]],"center":[-103.27970886230469,94.26702880859375,-54.55055618286133],"matrix":[0.6706550121307373,0.12403400242328644,0.7313259840011597,-103.27970886230469,-0.03982799872756004,0.9905200004577637,-0.1314689964056015,94.26702880859375,-0.7407000064849854,0.059043001383543015,0.6692370176315308,-54.55055618286133,0,0,0,1],"nextJoint":[-88.546616,93.092613,-67.862198],"prevJoint":[-118.012802,95.441437,-41.238911]},{"basis":[[-0.669658,-0.124113,-0.732225],[-0.039731,0.990512,-0.131557],[-0.741606,0.059006,0.668236]],"center":[-80.05219268798828,92.41675567626953,-75.51622772216797],"matrix":[0.6696580052375793,0.12411300092935562,0.7322250008583069,-80.05219268798828,-0.03973099961876869,0.9905120134353638,-0.13155700266361237,92.41675567626953,-0.7416059970855713,0.05900600180029869,0.6682360172271729,-75.51622772216797,0,0,0,1],"nextJoint":[-71.55777,91.740898,-83.170258],"prevJoint":[-88.546616,93.092613,-67.862198]},{"basis":[[-0.669662,-0.124113,-0.732222],[-0.039724,0.990511,-0.131564],[-0.741603,0.059016,0.668238]],"center":[-67.33405303955078,91.40477752685547,-86.97613525390625],"matrix":[0.6696619987487793,0.12411300092935562,0.7322220206260681,-67.33405303955078,-0.03972399979829788,0.9905110001564026,-0.13156400620937347,91.40477752685547,-0.7416030168533325,0.05901600047945976,0.6682379841804504,-86.97613525390625,0,0,0,1],"nextJoint":[-63.11034,91.068657,-90.782013],"prevJoint":[-71.55777,91.740898,-83.170258]}]},{"bones":[{"basis":[[-0.7614,-0.170073,-0.625576],[-0.007708,0.967281,-0.253589],[-0.648237,0.188261,0.737799]],"center":[-154.14752197265625,98.97102355957031,-31.48151206970215],"matrix":[0.7613999843597412,0.170073002576828,0.6255760192871094,-154.14752197265625,-0.007708000019192696,0.9672809839248657,-0.253589004278183,98.97102355957031,-0.6482369899749756,0.1882610023021698,0.7377989888191223,-31.48151206970215,0,0,0,1],"nextJoint":[-134.903793,93.382263,-53.384022],"prevJoint":[-173.391266,104.559784,-9.579001]},{"basis":[[-0.673189,-0.241528,-0.698914],[0.486812,0.566698,-0.664731],[-0.556624,0.78773,0.263916]],"center":[-123.769287109375,77.62480926513672,-58.66330337524414],"matrix":[0.6731889843940735,0.2415280044078827,0.6989139914512634,-123.769287109375,0.4868119955062866,0.5666980147361755,-0.6647310256958008,77.62480926513672,-0.5566239953041077,0.7877299785614014,0.2639159858226776,-58.66330337524414,0,0,0,1],"nextJoint":[-112.634781,61.867355,-63.942585],"prevJoint":[-134.903793,93.382263,-53.384022]},{"basis":[[-0.556172,-0.474089,-0.682578],[0.781523,-0.019014,-0.623587],[-0.282658,0.880271,-0.381087]],"center":[-109.1552963256836,51.03132247924805,-59.25145721435547],"matrix":[0.5561720132827759,0.47408899664878845,0.6825780272483826,-109.1552963256836,0.7815229892730713,-0.01901400089263916,-0.6235870122909546,51.03132247924805,-0.28265801072120667,0.8802710175514221,-0.3810870051383972,-59.25145721435547,0,0,0,1],"nextJoint":[-105.675819,40.195293,-54.560329],"prevJoint":[-112.634781,61.867355,-63.942585]},{"basis":[[-0.539386,-0.690418,-0.482063],[0.822986,-0.553389,-0.128277],[0.178204,0.465922,-0.866695]],"center":[-106.80775451660156,37.235782623291016,-49.05513000488281],"matrix":[0.539385974407196,0.690418004989624,0.4820629954338074,-106.80775451660156,0.8229860067367554,-0.5533890128135681,-0.1282770037651062,37.235782623291016,0.1782039999961853,0.4659219980239868,-0.866694986820221,-49.05513000488281,0,0,0,1],"nextJoint":[-107.939697,34.276272,-43.549934],"prevJoint":[-105.675819,40.195293,-54.560329]}]},{"bones":[{"basis":[[-0.819499,-0.30461,-0.485422],[-0.18328,0.94186,-0.281616],[-0.542983,0.141816,0.827682]],"center":[-168.2449951171875,93.76563262939453,-38.70441436767578],"matrix":[0.8194990158081055,0.304610013961792,0.4854219853878021,-168.2449951171875,-0.18328000605106354,0.941860020160675,-0.2816160023212433,93.76563262939453,-0.5429829955101013,0.14181600511074066,0.8276820182800293,-38.70441436767578,0,0,0,1],"nextJoint":[-153.323669,89.868484,-61.44936],"prevJoint":[-183.166321,97.662781,-15.95947]},{"basis":[[-0.749147,-0.355014,-0.559235],[0.247164,0.633463,-0.733236],[-0.614564,0.687524,0.38681]],"center":[-143.6995849609375,79.10184478759766,-67.5068130493164],"matrix":[0.7491469979286194,0.35501399636268616,0.5592349767684937,-143.6995849609375,0.24716399610042572,0.6334630250930786,-0.7332360148429871,79.10184478759766,-0.6145640015602112,0.6875240206718445,0.3868100047111511,-67.5068130493164,0,0,0,1],"nextJoint":[-134.075516,68.335213,-73.564262],"prevJoint":[-153.323669,89.868484,-61.44936]},{"basis":[[-0.824558,-0.210782,-0.525049],[0.507057,0.136383,-0.851054],[-0.250994,0.967972,0.005578]],"center":[-131.9556427001953,60.159812927246094,-73.61136627197266],"matrix":[0.8245580196380615,0.2107820063829422,0.5250489711761475,-131.9556427001953,0.5070570111274719,0.13638299703598022,-0.8510540127754211,60.159812927246094,-0.2509939968585968,0.9679719805717468,0.005578000098466873,-73.61136627197266,0,0,0,1],"nextJoint":[-129.83577,51.984413,-73.658478],"prevJoint":[-134.075516,68.335213,-73.564262]},{"basis":[[-0.82756,-0.200145,-0.524487],[0.480104,0.231868,-0.846012],[-0.290937,0.951934,0.095794]],"center":[-128.16448974609375,46.51604461669922,-74.20877075195312],"matrix":[0.8275600075721741,0.20014500617980957,0.5244870185852051,-128.16448974609375,0.480103999376297,0.23186799883842468,-0.8460119962692261,46.51604461669922,-0.29093700647354126,0.9519339799880981,0.09579399973154068,-74.20877075195312,0,0,0,1],"nextJoint":[-126.49321,41.047676,-74.759056],"prevJoint":[-129.83577,51.984413,-73.658478]}]}]}],"id":18034},{"hands":[{"palmPosition":[92.831924,78.866562,12.737935],"id":60,"arm":{"basis":[[-0.754241,0.44793,0.480083],[-0.536803,-0.841711,-0.058014],[0.378105,-0.301466,0.875303]],"width":60.107441,"center":[154.05653381347656,72.64776611328125,188.08456420898438]},"confidence":1,"fingers":[{"bones":[{"basis":[[-0.822666,-0.458615,0.335997],[0.551995,-0.50285,0.665164],[-0.136098,0.732676,0.66683]],"center":[128.15586853027344,99.12500762939453,52.5356330871582],"matrix":[-0.8226659893989563,-0.4586150050163269,0.33599698543548584,128.15586853027344,0.5519949793815613,-0.5028499960899353,0.6651639938354492,99.12500762939453,-0.1360979974269867,0.7326760292053223,0.6668300032615662,52.5356330871582,0,0,0,1],"nextJoint":[128.155869,99.125008,52.535633],"prevJoint":[128.155869,99.125008,52.535633]},{"basis":[[-0.729431,-0.678189,0.08939],[0.55541,-0.510892,0.656132],[-0.399313,0.528251,0.749333]],"center":[137.7003936767578,86.49858093261719,34.62483215332031],"matrix":[-0.7294309735298157,-0.6781889796257019,0.08939000219106674,137.7003936767578,0.5554100275039673,-0.5108919739723206,0.6561319828033447,86.49858093261719,-0.3993130028247833,0.5282509922981262,0.7493330240249634,34.62483215332031,0,0,0,1],"nextJoint":[147.244904,73.872154,16.714029],"prevJoint":[128.155869,99.125008,52.535633]},{"basis":[[-0.680745,-0.731946,-0.029005],[0.672485,-0.640163,0.371423],[-0.290429,0.233339,0.928011]],"center":[152.1722412109375,69.91339111328125,0.9696829915046692],"matrix":[-0.680745005607605,-0.7319459915161133,-0.029005000367760658,152.1722412109375,0.6724849939346313,-0.640163004398346,0.37142300605773926,69.91339111328125,-0.2904289960861206,0.23333899676799774,0.9280110001564026,0.9696829915046692,0,0,0,1],"nextJoint":[157.099564,65.954628,-14.774663],"prevJoint":[147.244904,73.872154,16.714029]},{"basis":[[-0.668301,-0.740308,-0.072922],[0.702415,-0.660276,0.265799],[-0.244922,0.126412,0.961267]],"center":[159.33006286621094,64.80339813232422,-23.528911590576172],"matrix":[-0.668300986289978,-0.7403079867362976,-0.0729219987988472,159.33006286621094,0.7024149894714355,-0.6602759957313538,0.26579898595809937,64.80339813232422,-0.2449219971895218,0.12641200423240662,0.9612669944763184,-23.528911590576172,0,0,0,1],"nextJoint":[161.560562,63.652164,-32.283161],"prevJoint":[157.099564,65.954628,-14.774663]}]},{"bones":[{"basis":[[-0.865377,0.439404,-0.240928],[-0.499826,-0.722292,0.477983],[0.036007,0.534058,0.844681]],"center":[109.42440795898438,71.07292938232422,28.84126091003418],"matrix":[-0.8653770089149475,0.4394040107727051,-0.24092799425125122,109.42440795898438,-0.49982601404190063,-0.7222920060157776,0.4779829978942871,71.07292938232422,0.036006998270750046,0.5340579748153687,0.8446810245513916,28.84126091003418,0,0,0,1],"nextJoint":[108.153915,52.228745,-0.963223],"prevJoint":[110.694908,89.917114,58.645744]},{"basis":[[-0.789321,0.613123,-0.032436],[-0.377581,-0.443075,0.813091],[0.484154,0.654037,0.581232]],"center":[99.0199203491211,39.889747619628906,-11.928690910339355],"matrix":[-0.7893210053443909,0.6131229996681213,-0.03243599832057953,99.0199203491211,-0.37758100032806396,-0.4430750012397766,0.813090980052948,39.889747619628906,0.48415398597717285,0.6540369987487793,0.5812320113182068,-11.928690910339355,0,0,0,1],"nextJoint":[89.885925,27.550751,-22.894159],"prevJoint":[108.153915,52.228745,-0.963223]},{"basis":[[-0.795035,0.475939,-0.376033],[-0.395648,-0.876809,-0.273257],[-0.459763,-0.068472,0.885398]],"center":[94.65641021728516,28.261215209960938,-32.08103561401367],"matrix":[-0.7950350046157837,0.475939005613327,-0.3760330080986023,94.65641021728516,-0.3956480026245117,-0.8768090009689331,-0.27325698733329773,28.261215209960938,-0.4597629904747009,-0.0684719979763031,0.8853979706764221,-32.08103561401367,0,0,0,1],"nextJoint":[99.426903,28.971678,-41.26791],"prevJoint":[89.885925,27.550751,-22.894159]},{"basis":[[-0.793988,0.475996,-0.378167],[-0.439654,-0.879208,-0.18357],[-0.419866,0.02051,0.907354]],"center":[101.71324920654297,28.8599910736084,-46.208831787109375],"matrix":[-0.7939879894256592,0.4759959876537323,-0.3781670033931732,101.71324920654297,-0.43965399265289307,-0.8792080283164978,-0.183569997549057,28.8599910736084,-0.41986599564552307,0.020509999245405197,0.9073539972305298,-46.208831787109375,0,0,0,1],"nextJoint":[103.999588,28.748306,-51.14975],"prevJoint":[99.426903,28.971678,-41.26791]}]},{"bones":[{"basis":[[-0.754584,0.624169,-0.202525],[-0.638021,-0.625707,0.448799],[0.153405,0.467871,0.870381]],"center":[91.63386535644531,76.91226959228516,27.724987030029297],"matrix":[-0.754584014415741,0.6241689920425415,-0.20252500474452972,91.63386535644531,-0.6380209922790527,-0.6257069706916809,0.4487990140914917,76.91226959228516,0.15340499579906464,0.4678710103034973,0.8703809976577759,27.724987030029297,0,0,0,1],"nextJoint":[86.500679,61.25655,-1.399371],"prevJoint":[96.767052,92.567993,56.849346]},{"basis":[[-0.774834,0.581429,-0.248139],[-0.457997,-0.245746,0.854311],[0.435742,0.775596,0.456705]],"center":[77.72766876220703,45.64109420776367,-10.594428062438965],"matrix":[-0.7748339772224426,0.5814290046691895,-0.24813899397850037,77.72766876220703,-0.45799699425697327,-0.24574600160121918,0.8543109893798828,45.64109420776367,0.43574199080467224,0.775596022605896,0.4567050039768219,-10.594428062438965,0,0,0,1],"nextJoint":[68.954659,30.02564,-19.789486],"prevJoint":[86.500679,61.25655,-1.399371]},{"basis":[[-0.76121,0.626533,-0.167376],[-0.619038,-0.77892,-0.10038],[-0.193264,0.027202,0.98077]],"center":[71.19898223876953,29.709747314453125,-31.178903579711914],"matrix":[-0.761210024356842,0.6265329718589783,-0.16737599670886993,71.19898223876953,-0.6190379858016968,-0.7789199948310852,-0.10038000345230103,29.709747314453125,-0.19326399266719818,0.027202000841498375,0.9807699918746948,-31.178903579711914,0,0,0,1],"nextJoint":[73.443298,29.393856,-42.568321],"prevJoint":[68.954659,30.02564,-19.789486]},{"basis":[[-0.76121,0.626533,-0.167376],[-0.619038,-0.77892,-0.10038],[-0.193264,0.027202,0.98077]],"center":[74.51374053955078,29.24319076538086,-48.00056838989258],"matrix":[-0.761210024356842,0.6265329718589783,-0.16737599670886993,74.51374053955078,-0.6190379858016968,-0.7789199948310852,-0.10038000345230103,29.24319076538086,-0.19326399266719818,0.027202000841498375,0.9807699918746948,-48.00056838989258,0,0,0,1],"nextJoint":[75.584183,29.092524,-53.432816],"prevJoint":[73.443298,29.393856,-42.568321]}]},{"bones":[{"basis":[[-0.673526,0.731598,-0.105486],[-0.685086,-0.564281,0.4607],[0.277523,0.38256,0.881265]],"center":[79.3509292602539,87.51690673828125,26.36539077758789],"matrix":[-0.6735259890556335,0.7315980195999146,-0.10548599809408188,79.3509292602539,-0.6850860118865967,-0.5642809867858887,0.46070000529289246,87.51690673828125,0.277523010969162,0.38256001472473145,0.8812649846076965,26.36539077758789,0,0,0,1],"nextJoint":[71.013321,76.023682,-0.110406],"prevJoint":[87.688545,99.010132,52.841187]},{"basis":[[-0.741437,0.628688,-0.234567],[-0.492731,-0.272795,0.826317],[0.455507,0.72824,0.512035]],"center":[62.54296875,62.48173522949219,-9.63191032409668],"matrix":[-0.7414370179176331,0.6286879777908325,-0.23456700146198273,62.54296875,-0.4927310049533844,-0.2727949917316437,0.8263170123100281,62.48173522949219,0.4555070102214813,0.7282400131225586,0.5120350122451782,-9.63191032409668,0,0,0,1],"nextJoint":[54.07262,48.939789,-19.153414],"prevJoint":[71.013321,76.023682,-0.110406]},{"basis":[[-0.71942,0.66648,-0.195547],[-0.634812,-0.516675,0.574509],[0.281864,0.537449,0.794796]],"center":[50.83214569091797,42.76096725463867,-28.29084587097168],"matrix":[-0.7194200158119202,0.6664800047874451,-0.19554699957370758,50.83214569091797,-0.6348119974136353,-0.5166749954223633,0.5745090246200562,42.76096725463867,0.2818639874458313,0.5374490022659302,0.7947959899902344,-28.29084587097168,0,0,0,1],"nextJoint":[47.591671,36.582146,-37.428276],"prevJoint":[54.07262,48.939789,-19.153414]},{"basis":[[-0.737104,0.675385,-0.023076],[-0.510761,-0.579145,-0.635385],[-0.442494,-0.456559,0.77185]],"center":[50.3743782043457,39.453304290771484,-42.282203674316406],"matrix":[-0.7371039986610413,0.6753849983215332,-0.023075999692082405,50.3743782043457,-0.510761022567749,-0.5791450142860413,-0.6353849768638611,39.453304290771484,-0.4424940049648285,-0.4565590023994446,0.7718499898910522,-42.282203674316406,0,0,0,1],"nextJoint":[53.157089,42.324463,-47.136131],"prevJoint":[47.591671,36.582146,-37.428276]}]},{"bones":[{"basis":[[-0.514362,0.854069,-0.077441],[-0.754276,-0.407591,0.51472],[0.408042,0.323165,0.853854]],"center":[71.46141052246094,104.23420715332031,23.522968292236328],"matrix":[-0.5143619775772095,0.8540689945220947,-0.07744099944829941,71.46141052246094,-0.7542759776115417,-0.40759098529815674,0.5147200226783752,104.23420715332031,0.4080420136451721,0.32316499948501587,0.8538540005683899,23.522968292236328,0,0,0,1],"nextJoint":[60.113575,95.246857,-0.223072],"prevJoint":[82.809242,113.22155,47.269009]},{"basis":[[-0.712568,0.620696,-0.327084],[-0.459319,-0.060299,0.886222],[0.530351,0.781729,0.328065]],"center":[52.022918701171875,83.32135772705078,-5.227792263031006],"matrix":[-0.7125679850578308,0.6206960082054138,-0.3270840048789978,52.022918701171875,-0.45931899547576904,-0.06029900163412094,0.8862220048904419,83.32135772705078,0.5303509831428528,0.781728982925415,0.32806500792503357,-5.227792263031006,0,0,0,1],"nextJoint":[43.932266,71.395859,-10.232513],"prevJoint":[60.113575,95.246857,-0.223072]},{"basis":[[-0.611645,0.765269,-0.200633],[-0.70367,-0.410335,0.580064],[0.361579,0.495973,0.789476]],"center":[41.069114685058594,67.46851348876953,-16.48395347595215],"matrix":[-0.611644983291626,0.7652689814567566,-0.2006330043077469,41.069114685058594,-0.7036700248718262,-0.4103350043296814,0.5800639986991882,67.46851348876953,0.3615790009498596,0.49597299098968506,0.7894759774208069,-16.48395347595215,0,0,0,1],"nextJoint":[38.205967,63.541172,-22.735395],"prevJoint":[43.932266,71.395859,-10.232513]},{"basis":[[-0.594333,0.79603,-0.114477],[-0.804209,-0.588974,0.079727],[-0.003959,0.139448,0.990221]],"center":[38.227882385253906,62.76925277709961,-28.216798782348633],"matrix":[-0.5943329930305481,0.7960299849510193,-0.1144770011305809,38.227882385253906,-0.8042089939117432,-0.5889739990234375,0.07972700148820877,62.76925277709961,-0.003959000110626221,0.13944800198078156,0.9902210235595703,-28.216798782348633,0,0,0,1],"nextJoint":[38.249798,61.997334,-33.698204],"prevJoint":[38.205967,63.541172,-22.735395]}]}]},{"palmPosition":[-58.35376,79.004227,-6.195745],"id":61,"arm":{"basis":[[-0.845453,-0.46042,-0.270599],[-0.484349,0.874508,0.025327],[-0.22498,-0.152477,0.962359]],"width":60.107441,"center":[-146.7178955078125,73.38948822021484,154.10060119628906]},"confidence":1,"fingers":[{"bones":[{"basis":[[-0.02937,0.677867,-0.734598],[0.131782,0.731126,0.669394],[-0.990843,0.077146,0.110804]],"center":[-94.16019439697266,91.07881164550781,39.25748825073242],"matrix":[0.029370000585913658,-0.6778669953346252,0.7345979809761047,-94.16019439697266,0.13178199529647827,0.7311260104179382,0.6693940162658691,91.07881164550781,-0.9908429980278015,0.0771460011601448,0.1108039990067482,39.25748825073242,0,0,0,1],"nextJoint":[-94.160194,91.078812,39.257488],"prevJoint":[-94.160194,91.078812,39.257488]},{"basis":[[0.413021,0.609459,-0.676738],[-0.072395,0.762698,0.64269],[-0.90784,0.216452,-0.359132]],"center":[-73.41822052001953,86.1333999633789,47.46279525756836],"matrix":[-0.4130209982395172,-0.6094589829444885,0.6767380237579346,-73.41822052001953,-0.07239499688148499,0.7626979947090149,0.6426900029182434,86.1333999633789,-0.9078400135040283,0.2164520025253296,-0.35913199186325073,47.46279525756836,0,0,0,1],"nextJoint":[-52.676247,81.187988,55.668102],"prevJoint":[-94.160194,91.078812,39.257488]},{"basis":[[0.41329,0.60938,-0.676645],[0.050625,0.72655,0.685246],[-0.909191,0.317461,-0.269426]],"center":[-38.63033676147461,76.28359985351562,59.830406188964844],"matrix":[-0.41328999400138855,-0.6093800067901611,0.6766449809074402,-38.63033676147461,0.05062500014901161,0.7265499830245972,0.6852459907531738,76.28359985351562,-0.9091910123825073,0.3174610137939453,-0.26942598819732666,59.830406188964844,0,0,0,1],"nextJoint":[-24.584427,71.379219,63.992714],"prevJoint":[-52.676247,81.187988,55.668102]},{"basis":[[0.414585,0.608515,-0.676631],[0.641835,0.331569,0.691455],[-0.64511,0.720952,0.253102]],"center":[-19.330175399780273,65.50725555419922,61.9312629699707],"matrix":[-0.4145849943161011,-0.6085150241851807,0.676630973815918,-19.330175399780273,0.6418349742889404,0.33156898617744446,0.6914550065994263,65.50725555419922,-0.645110011100769,0.7209519743919373,0.25310200452804565,61.9312629699707,0,0,0,1],"nextJoint":[-14.075925,59.635296,59.869812],"prevJoint":[-24.584427,71.379219,63.992714]}]},{"bones":[{"basis":[[-0.402304,-0.315323,-0.85949],[0.168024,0.897436,-0.407892],[-0.899955,0.308511,0.30806]],"center":[-57.99340057373047,93.66543579101562,10.217694282531738],"matrix":[0.4023039937019348,0.31532299518585205,0.8594899773597717,-57.99340057373047,0.1680240035057068,0.8974360227584839,-0.40789198875427246,93.66543579101562,-0.8999549746513367,0.30851098895072937,0.3080599904060364,10.217694282531738,0,0,0,1],"nextJoint":[-26.23856,82.77964,-0.652182],"prevJoint":[-89.748238,104.551231,21.08757]},{"basis":[[-0.270393,-0.334648,-0.902717],[-0.133558,0.941617,-0.309063],[-0.953441,-0.036997,0.299302]],"center":[-8.207134246826172,83.47932434082031,-6.312557220458984],"matrix":[0.2703930139541626,0.3346480131149292,0.9027169942855835,-8.207134246826172,-0.1335580050945282,0.9416170120239258,-0.30906298756599426,83.47932434082031,-0.9534410238265991,-0.036997001618146896,0.29930201172828674,-6.312557220458984,0,0,0,1],"nextJoint":[9.824292,84.179008,-11.972932],"prevJoint":[-26.23856,82.77964,-0.652182]},{"basis":[[-0.277038,-0.334861,-0.900621],[-0.123065,0.941954,-0.312374],[-0.952946,-0.024295,0.302166]],"center":[19.89148712158203,84.4356689453125,-15.165104866027832],"matrix":[0.27703800797462463,0.33486101031303406,0.9006209969520569,19.89148712158203,-0.12306500226259232,0.9419540166854858,-0.3123739957809448,84.4356689453125,-0.9529460072517395,-0.024295000359416008,0.3021659851074219,-15.165104866027832,0,0,0,1],"nextJoint":[29.958681,84.692337,-18.357277],"prevJoint":[9.824292,84.179008,-11.972932]},{"basis":[[-0.07574,-0.460877,-0.884226],[0.932593,0.281097,-0.226396],[-0.352894,0.84177,-0.40852]],"center":[32.04833221435547,79.70782470703125,-15.938241958618164],"matrix":[0.07574000209569931,0.460877001285553,0.8842260241508484,32.04833221435547,0.9325929880142212,0.2810969948768616,-0.22639599442481995,79.70782470703125,-0.35289400815963745,0.8417699933052063,-0.40852001309394836,-15.938241958618164,0,0,0,1],"nextJoint":[34.137985,74.723312,-13.519206],"prevJoint":[29.958681,84.692337,-18.357277]}]},{"bones":[{"basis":[[-0.542902,-0.419083,-0.727754],[0.077792,0.837763,-0.540465],[-0.836185,0.350033,0.422222]],"center":[-65.19430541992188,91.25489807128906,-4.016358375549316],"matrix":[0.5429019927978516,0.41908299922943115,0.7277539968490601,-65.19430541992188,0.07779199630022049,0.8377630114555359,-0.5404649972915649,91.25489807128906,-0.8361849784851074,0.3500329852104187,0.42222198843955994,-4.016358375549316,0,0,0,1],"nextJoint":[-37.214203,79.542244,-18.144592],"prevJoint":[-93.174408,102.967552,10.111875]},{"basis":[[-0.534906,-0.421234,-0.732419],[-0.159748,0.901645,-0.401892],[-0.829673,0.097972,0.549586]],"center":[-19.96104621887207,77.5049057006836,-29.573314666748047],"matrix":[0.5349060297012329,0.42123401165008545,0.7324190139770508,-19.96104621887207,-0.15974800288677216,0.9016450047492981,-0.4018920063972473,77.5049057006836,-0.8296729922294617,0.09797199815511703,0.5495859980583191,-29.573314666748047,0,0,0,1],"nextJoint":[-2.707889,75.467567,-41.002037],"prevJoint":[-37.214203,79.542244,-18.144592]},{"basis":[[-0.534906,-0.421234,-0.732419],[-0.159748,0.901645,-0.401892],[-0.829673,0.097972,0.549586]],"center":[7.285035610198975,74.28755187988281,-47.621482849121094],"matrix":[0.5349060297012329,0.42123401165008545,0.7324190139770508,7.285035610198975,-0.15974800288677216,0.9016450047492981,-0.4018920063972473,74.28755187988281,-0.8296729922294617,0.09797199815511703,0.5495859980583191,-47.621482849121094,0,0,0,1],"nextJoint":[17.27796,73.107536,-54.240932],"prevJoint":[-2.707889,75.467567,-41.002037]},{"basis":[[-0.392462,-0.483452,-0.782462],[0.467836,0.62752,-0.622373],[-0.791899,0.610322,0.020101]],"center":[21.936506271362305,69.51715850830078,-54.35918426513672],"matrix":[0.39246198534965515,0.4834519922733307,0.7824620008468628,21.936506271362305,0.4678359925746918,0.6275200247764587,-0.6223729848861694,69.51715850830078,-0.7918990254402161,0.6103219985961914,0.020100999623537064,-54.35918426513672,0,0,0,1],"nextJoint":[26.595053,65.926788,-54.477436],"prevJoint":[17.27796,73.107536,-54.240932]}]},{"bones":[{"basis":[[-0.664346,-0.424959,-0.614862],[0.012109,0.816412,-0.577343],[-0.747327,0.391001,0.537233]],"center":[-75.5216064453125,85.09526824951172,-14.688708305358887],"matrix":[0.6643459796905518,0.4249590039253235,0.6148620247840881,-75.5216064453125,0.012109000235795975,0.8164119720458984,-0.5773429870605469,85.09526824951172,-0.7473270297050476,0.39100098609924316,0.5372329950332642,-14.688708305358887,0,0,0,1],"nextJoint":[-53.069702,73.348442,-30.828777],"prevJoint":[-97.973518,96.842087,1.451361]},{"basis":[[-0.677161,-0.420579,-0.603794],[-0.236669,0.901441,-0.362481],[-0.696736,0.102559,0.709958]],"center":[-39.20281219482422,71.30725860595703,-44.958824157714844],"matrix":[0.6771609783172607,0.4205789864063263,0.6037939786911011,-39.20281219482422,-0.23666900396347046,0.9014409780502319,-0.3624809980392456,71.30725860595703,-0.6967359781265259,0.10255900025367737,0.709958016872406,-44.958824157714844,0,0,0,1],"nextJoint":[-25.335922,69.266068,-59.088871],"prevJoint":[-53.069702,73.348442,-30.828777]},{"basis":[[-0.816877,-0.320144,-0.479812],[0.252016,0.550149,-0.79613],[-0.518845,0.771261,0.368723]],"center":[-19.004108428955078,59.853851318359375,-63.58864212036133],"matrix":[0.816877007484436,0.32014399766921997,0.47981199622154236,-19.004108428955078,0.25201600790023804,0.5501490235328674,-0.7961300015449524,59.853851318359375,-0.5188450217247009,0.7712609767913818,0.3687230050563812,-63.58864212036133,0,0,0,1],"nextJoint":[-12.672293,50.441635,-68.088417],"prevJoint":[-25.335922,69.266068,-59.088871]},{"basis":[[-0.859072,-0.233897,-0.455289],[0.400604,0.246433,-0.882489],[-0.31861,0.940512,0.118003]],"center":[-10.678189277648926,44.5551872253418,-68.82697296142578],"matrix":[0.8590720295906067,0.23389700055122375,0.45528900623321533,-10.678189277648926,0.4006040096282959,0.24643300473690033,-0.882489025592804,44.5551872253418,-0.3186100125312805,0.9405120015144348,0.1180030032992363,-68.82697296142578,0,0,0,1],"nextJoint":[-8.684086,38.668739,-69.565529],"prevJoint":[-12.672293,50.441635,-68.088417]}]},{"bones":[{"basis":[[-0.739183,-0.505863,-0.444648],[-0.157441,0.771692,-0.616202],[-0.654844,0.38548,0.650064]],"center":[-87.74859619140625,75.92164611816406,-21.067405700683594],"matrix":[0.7391830086708069,0.5058630108833313,0.44464799761772156,-87.74859619140625,-0.15744100511074066,0.7716919779777527,-0.6162019968032837,75.92164611816406,-0.6548439860343933,0.38547998666763306,0.6500639915466309,-21.067405700683594,0,0,0,1],"nextJoint":[-69.537094,65.201271,-39.145981],"prevJoint":[-105.960106,86.642014,-2.988832]},{"basis":[[-0.89113,-0.40358,-0.20739],[-0.304059,0.870387,-0.387265],[-0.336803,0.282045,0.89834]],"center":[-64.16899871826172,60.705928802490234,-53.46409606933594],"matrix":[0.8911299705505371,0.4035800099372864,0.20738999545574188,-64.16899871826172,-0.3040589988231659,0.8703870177268982,-0.38726499676704407,60.705928802490234,-0.33680298924446106,0.28204500675201416,0.8983399868011475,-53.46409606933594,0,0,0,1],"nextJoint":[-58.8009,56.210587,-67.782211],"prevJoint":[-69.537094,65.201271,-39.145981]},{"basis":[[-0.894538,-0.400231,-0.19904],[-0.251259,0.818507,-0.516638],[-0.36969,0.412142,0.832747]],"center":[-55.596275329589844,52.637969970703125,-75.00080108642578],"matrix":[0.8945379853248596,0.4002310037612915,0.1990399956703186,-55.596275329589844,-0.2512589991092682,0.8185070157051086,-0.5166379809379578,52.637969970703125,-0.3696900010108948,0.4121420085430145,0.8327469825744629,-75.00080108642578,0,0,0,1],"nextJoint":[-52.391647,49.065353,-82.219398],"prevJoint":[-58.8009,56.210587,-67.782211]},{"basis":[[-0.905899,-0.382448,-0.181882],[0.011253,0.40759,-0.913096],[-0.423345,0.829219,0.364931]],"center":[-49.880821228027344,44.14732360839844,-84.38377380371094],"matrix":[0.9058989882469177,0.3824479877948761,0.18188199400901794,-49.880821228027344,0.011253000237047672,0.40759000182151794,-0.913096010684967,44.14732360839844,-0.42334499955177307,0.8292189836502075,0.36493098735809326,-84.38377380371094,0,0,0,1],"nextJoint":[-47.369999,39.229298,-86.548149],"prevJoint":[-52.391647,49.065353,-82.219398]}]}]}],"id":131808}]}'
  publisher.publish(CHANNEL_REDIS, jsonToString ); 
  //fs.writeFileSync('./data.jso/**/n', jsonToString , 'utf-8'); 
}, 500);

module.exports = app;
